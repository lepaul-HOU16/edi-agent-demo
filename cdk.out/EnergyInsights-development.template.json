{
 "Description": "Energy Data Insights - development Stack",
 "Outputs": {
  "UserPoolId": {
   "Description": "Cognito User Pool ID",
   "Value": "us-east-1_sC6yswGji",
   "Export": {
    "Name": "EnergyInsights-development-UserPoolId"
   }
  },
  "UserPoolArn": {
   "Description": "Cognito User Pool ARN",
   "Value": {
    "Fn::Join": [
     "",
     [
      "arn:",
      {
       "Ref": "AWS::Partition"
      },
      ":cognito-idp:us-east-1:484907533441:userpool/us-east-1_sC6yswGji"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-UserPoolArn"
   }
  },
  "ChatMessageTableName": {
   "Description": "ChatMessage DynamoDB table name",
   "Value": "ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE",
   "Export": {
    "Name": "EnergyInsights-development-ChatMessageTable"
   }
  },
  "ProjectTableName": {
   "Description": "Project DynamoDB table name",
   "Value": "Project-fhzj4la45fevdnax5s2o4hbuqy-NONE",
   "Export": {
    "Name": "EnergyInsights-development-ProjectTable"
   }
  },
  "StorageBucketName": {
   "Description": "S3 storage bucket name",
   "Value": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy",
   "Export": {
    "Name": "EnergyInsights-development-StorageBucket"
   }
  },
  "FrontendBucketName": {
   "Description": "S3 bucket for frontend static files",
   "Value": {
    "Ref": "FrontendBucketEFE2E19C"
   },
   "Export": {
    "Name": "EnergyInsights-development-FrontendBucket"
   }
  },
  "FrontendBucketWebsiteUrl": {
   "Description": "S3 bucket website URL",
   "Value": {
    "Fn::GetAtt": [
     "FrontendBucketEFE2E19C",
     "WebsiteURL"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-FrontendWebsiteUrl"
   }
  },
  "VerifyCognitoLambdaArn": {
   "Description": "ARN of test Lambda to verify Cognito import",
   "Value": {
    "Fn::GetAtt": [
     "VerifyCognitoFunction89CA9C4F",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-VerifyCognitoLambdaArn"
   }
  },
  "VerifyDynamoDBLambdaArn": {
   "Description": "ARN of test Lambda to verify DynamoDB imports",
   "Value": {
    "Fn::GetAtt": [
     "VerifyDynamoDBFunctionE6FC1469",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-VerifyDynamoDBLambdaArn"
   }
  },
  "HttpApiUrl": {
   "Description": "HTTP API Gateway endpoint URL",
   "Value": {
    "Fn::GetAtt": [
     "HttpApiF5A9A8A7",
     "ApiEndpoint"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-HttpApiUrl"
   }
  },
  "ApiLogGroupName": {
   "Description": "CloudWatch Log Group for API access logs",
   "Value": {
    "Ref": "ApiAccessLogsE9DF007D"
   },
   "Export": {
    "Name": "EnergyInsights-development-ApiLogGroupName"
   }
  },
  "AuthorizerFunctionArn": {
   "Description": "ARN of custom Lambda authorizer",
   "Value": {
    "Fn::GetAtt": [
     "AuthorizerFunction40EC414F",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-AuthorizerFunctionArn"
   }
  },
  "MockAuthEnabled": {
   "Description": "Whether mock authentication is enabled",
   "Value": "true",
   "Export": {
    "Name": "EnergyInsights-development-MockAuthEnabled"
   }
  },
  "TestAuthLambdaArn": {
   "Description": "ARN of test Lambda to verify Cognito authorizer",
   "Value": {
    "Fn::GetAtt": [
     "TestAuthFunctionE65B7312",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-TestAuthLambdaArn"
   }
  },
  "TestAuthEndpoint": {
   "Description": "Test endpoint to verify Cognito authorizer (requires JWT token)",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "HttpApiF5A9A8A7",
        "ApiEndpoint"
       ]
      },
      "/test/auth"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-TestAuthEndpoint"
   }
  },
  "ProjectsFunctionArn": {
   "Description": "ARN of projects Lambda function",
   "Value": {
    "Fn::GetAtt": [
     "ProjectsFunction4DE27BEB",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-ProjectsFunctionArn"
   }
  },
  "ProjectsEndpoints": {
   "Description": "Project management API endpoints",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "HttpApiF5A9A8A7",
        "ApiEndpoint"
       ]
      },
      "/api/projects/*"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-ProjectsEndpoints"
   }
  },
  "ChatFunctionArn": {
   "Description": "ARN of chat/agent Lambda function",
   "Value": {
    "Fn::GetAtt": [
     "ChatFunction6D49312C",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-ChatFunctionArn"
   }
  },
  "ChatEndpoint": {
   "Description": "Chat message API endpoint",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "HttpApiF5A9A8A7",
        "ApiEndpoint"
       ]
      },
      "/api/chat/message"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-ChatEndpoint"
   }
  },
  "PetrophysicsCalculatorFunctionArn": {
   "Description": "ARN of petrophysics calculator Lambda function",
   "Value": {
    "Fn::GetAtt": [
     "PetrophysicsCalculatorFunctionD77F5906",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-PetrophysicsCalculatorFunctionArn"
   }
  },
  "ChatSessionsFunctionArn": {
   "Description": "ARN of chat-sessions Lambda function",
   "Value": {
    "Fn::GetAtt": [
     "ChatSessionsFunction068288E8",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-ChatSessionsFunctionArn"
   }
  },
  "ChatSessionsEndpoints": {
   "Description": "ChatSession API endpoints",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "HttpApiF5A9A8A7",
        "ApiEndpoint"
       ]
      },
      "/api/chat/sessions/*"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-ChatSessionsEndpoints"
   }
  },
  "RenewableOrchestratorFunctionArn": {
   "Description": "ARN of renewable orchestrator Lambda function",
   "Value": {
    "Fn::GetAtt": [
     "RenewableOrchestratorFunctionD83ABE85",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-RenewableOrchestratorFunctionArn"
   }
  },
  "RenewableAnalyzeEndpoint": {
   "Description": "Renewable energy analysis API endpoint",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "HttpApiF5A9A8A7",
        "ApiEndpoint"
       ]
      },
      "/api/renewable/analyze"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-RenewableAnalyzeEndpoint"
   }
  },
  "CatalogMapDataFunctionArn": {
   "Description": "ARN of catalog map data Lambda function",
   "Value": {
    "Fn::GetAtt": [
     "CatalogMapDataFunction79F61206",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-CatalogMapDataFunctionArn"
   }
  },
  "CatalogSearchFunctionArn": {
   "Description": "ARN of catalog search Lambda function",
   "Value": {
    "Fn::GetAtt": [
     "CatalogSearchFunction7B67FC54",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-CatalogSearchFunctionArn"
   }
  },
  "CatalogMapDataEndpoint": {
   "Description": "Catalog map data API endpoint",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "HttpApiF5A9A8A7",
        "ApiEndpoint"
       ]
      },
      "/api/catalog/map-data"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-CatalogMapDataEndpoint"
   }
  },
  "CatalogSearchEndpoint": {
   "Description": "Catalog search API endpoint",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "HttpApiF5A9A8A7",
        "ApiEndpoint"
       ]
      },
      "/api/catalog/search"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-CatalogSearchEndpoint"
   }
  },
  "CollectionsFunctionArn": {
   "Description": "ARN of collections management Lambda function",
   "Value": {
    "Fn::GetAtt": [
     "CollectionsFunctionFDA9DA64",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-CollectionsFunctionArn"
   }
  },
  "CollectionsApiEndpoint": {
   "Description": "Collections API base endpoint",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "HttpApiF5A9A8A7",
        "ApiEndpoint"
       ]
      },
      "/api/collections"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-CollectionsApiEndpoint"
   }
  },
  "OsduFunctionArn": {
   "Description": "ARN of OSDU integration Lambda function",
   "Value": {
    "Fn::GetAtt": [
     "OsduFunction4244E499",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-OsduFunctionArn"
   }
  },
  "OsduSearchEndpoint": {
   "Description": "OSDU search API endpoint",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "HttpApiF5A9A8A7",
        "ApiEndpoint"
       ]
      },
      "/api/osdu/search"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-OsduSearchEndpoint"
   }
  },
  "RenewableApiFunctionArn": {
   "Description": "ARN of renewable API Lambda function",
   "Value": {
    "Fn::GetAtt": [
     "RenewableApiFunctionFBC23065",
     "Arn"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-RenewableApiFunctionArn"
   }
  },
  "RenewableApiEndpoint": {
   "Description": "Renewable API endpoints",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "HttpApiF5A9A8A7",
        "ApiEndpoint"
       ]
      },
      "/api/renewable/*"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-RenewableApiEndpoint"
   }
  },
  "CloudFrontDistributionId": {
   "Description": "CloudFront Distribution ID",
   "Value": {
    "Ref": "FrontendDistribution"
   },
   "Export": {
    "Name": "EnergyInsights-development-CloudFrontDistributionId"
   }
  },
  "CloudFrontDomainName": {
   "Description": "CloudFront Domain Name",
   "Value": {
    "Fn::GetAtt": [
     "FrontendDistribution",
     "DomainName"
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-CloudFrontDomain"
   }
  },
  "FrontendUrl": {
   "Description": "Frontend URL (CloudFront) - Use this to access the application",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Fn::GetAtt": [
        "FrontendDistribution",
        "DomainName"
       ]
      }
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-FrontendUrl"
   }
  },
  "ApiUrlViaCloudFront": {
   "Description": "API URL via CloudFront (for frontend configuration)",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Fn::GetAtt": [
        "FrontendDistribution",
        "DomainName"
       ]
      },
      "/api"
     ]
    ]
   },
   "Export": {
    "Name": "EnergyInsights-development-ApiUrlViaCloudFront"
   }
  },
  "StackName": {
   "Description": "Stack name",
   "Value": "EnergyInsights-development"
  }
 },
 "Resources": {
  "FrontendBucketEFE2E19C": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketName": "energyinsights-development-frontend-development",
    "CorsConfiguration": {
     "CorsRules": [
      {
       "AllowedHeaders": [
        "*"
       ],
       "AllowedMethods": [
        "GET",
        "HEAD"
       ],
       "AllowedOrigins": [
        "*"
       ]
      }
     ]
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "aws-cdk:auto-delete-objects",
      "Value": "true"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/FrontendBucket/Resource"
   }
  },
  "FrontendBucketPolicy1DFF75D9": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "FrontendBucketEFE2E19C"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:PutBucketPolicy",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
          "Arn"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "FrontendBucketEFE2E19C",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "FrontendBucketEFE2E19C",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Principal": {
        "CanonicalUser": {
         "Fn::GetAtt": [
          "FrontendOAIF4D25B13",
          "S3CanonicalUserId"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "FrontendBucketEFE2E19C",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "FrontendBucketEFE2E19C",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/FrontendBucket/Policy/Resource"
   }
  },
  "FrontendBucketAutoDeleteObjectsCustomResourceDB860B32": {
   "Type": "Custom::S3AutoDeleteObjects",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "FrontendBucketEFE2E19C"
    }
   },
   "DependsOn": [
    "FrontendBucketPolicy1DFF75D9"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/FrontendBucket/AutoDeleteObjectsCustomResource/Default"
   }
  },
  "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Version": "2012-10-17",
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ]
    },
    "ManagedPolicyArns": [
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role"
   }
  },
  "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "faa95a81ae7d7373f3e1f242268f904eb748d8d0fdd306e8a6fe515a1905a7d6.zip"
    },
    "Timeout": 900,
    "MemorySize": 128,
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
      "Arn"
     ]
    },
    "Runtime": "nodejs22.x",
    "Description": {
     "Fn::Join": [
      "",
      [
       "Lambda function for auto-deleting objects in ",
       {
        "Ref": "FrontendBucketEFE2E19C"
       },
       " S3 bucket."
      ]
     ]
    }
   },
   "DependsOn": [
    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler",
    "aws:asset:path": "asset.faa95a81ae7d7373f3e1f242268f904eb748d8d0fdd306e8a6fe515a1905a7d6",
    "aws:asset:property": "Code"
   }
  },
  "FrontendOAIF4D25B13": {
   "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
   "Properties": {
    "CloudFrontOriginAccessIdentityConfig": {
     "Comment": "OAI for EnergyInsights-development frontend bucket"
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/FrontendOAI/Resource"
   }
  },
  "VerifyCognitoFunctionServiceRole90E11D0A": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/VerifyCognitoFunction/ServiceRole/Resource"
   }
  },
  "VerifyCognitoFunctionServiceRoleDefaultPolicy7A430520": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "cognito-idp:DescribeUserPool",
        "cognito-idp:DescribeUserPoolClient"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":cognito-idp:us-east-1:484907533441:userpool/us-east-1_sC6yswGji"
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "VerifyCognitoFunctionServiceRoleDefaultPolicy7A430520",
    "Roles": [
     {
      "Ref": "VerifyCognitoFunctionServiceRole90E11D0A"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/VerifyCognitoFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "VerifyCognitoFunction89CA9C4F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "ce6fd4189a68f8b08223941bfe06de2327718477d2a303ab51147d0b51047970.zip"
    },
    "Description": "Test function to verify Cognito User Pool import",
    "Environment": {
     "Variables": {
      "USER_POOL_ID": "us-east-1_sC6yswGji",
      "USER_POOL_CLIENT_ID": "18m99t0u39vi9614ssd8sf8vmb"
     }
    },
    "FunctionName": "EnergyInsights-development-verify-cognito",
    "Handler": "index.handler",
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "VerifyCognitoFunctionServiceRole90E11D0A",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 30
   },
   "DependsOn": [
    "VerifyCognitoFunctionServiceRoleDefaultPolicy7A430520",
    "VerifyCognitoFunctionServiceRole90E11D0A"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/VerifyCognitoFunction/Resource",
    "aws:asset:path": "asset.ce6fd4189a68f8b08223941bfe06de2327718477d2a303ab51147d0b51047970",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "VerifyDynamoDBFunctionServiceRole2A4DD7B9": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/VerifyDynamoDBFunction/ServiceRole/Resource"
   }
  },
  "VerifyDynamoDBFunctionServiceRoleDefaultPolicyD9220025": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/ChatSession-fhzj4la45fevdnax5s2o4hbuqy-NONE"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/Project-fhzj4la45fevdnax5s2o4hbuqy-NONE"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/AgentProgress"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/RenewableSessionContext"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "VerifyDynamoDBFunctionServiceRoleDefaultPolicyD9220025",
    "Roles": [
     {
      "Ref": "VerifyDynamoDBFunctionServiceRole2A4DD7B9"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/VerifyDynamoDBFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "VerifyDynamoDBFunctionE6FC1469": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "3cb73d298eb94cfb297b17a0627f8233359259ed9af70c6ce86ce4b06e1943dd.zip"
    },
    "Description": "Test function to verify DynamoDB table imports",
    "Environment": {
     "Variables": {
      "CHAT_MESSAGE_TABLE": "ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE",
      "CHAT_SESSION_TABLE": "ChatSession-fhzj4la45fevdnax5s2o4hbuqy-NONE",
      "PROJECT_TABLE": "Project-fhzj4la45fevdnax5s2o4hbuqy-NONE",
      "AGENT_PROGRESS_TABLE": "AgentProgress",
      "SESSION_CONTEXT_TABLE": "RenewableSessionContext",
      "STORAGE_BUCKET": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
     }
    },
    "FunctionName": "EnergyInsights-development-verify-dynamodb",
    "Handler": "index.handler",
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "VerifyDynamoDBFunctionServiceRole2A4DD7B9",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 30
   },
   "DependsOn": [
    "VerifyDynamoDBFunctionServiceRoleDefaultPolicyD9220025",
    "VerifyDynamoDBFunctionServiceRole2A4DD7B9"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/VerifyDynamoDBFunction/Resource",
    "aws:asset:path": "asset.3cb73d298eb94cfb297b17a0627f8233359259ed9af70c6ce86ce4b06e1943dd",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ApiAccessLogsE9DF007D": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/apigateway/EnergyInsights-development-http-api",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ApiAccessLogs/Resource"
   }
  },
  "HttpApiF5A9A8A7": {
   "Type": "AWS::ApiGatewayV2::Api",
   "Properties": {
    "CorsConfiguration": {
     "AllowHeaders": [
      "Content-Type",
      "Authorization",
      "X-Amz-Date",
      "X-Api-Key",
      "X-Amz-Security-Token"
     ],
     "AllowMethods": [
      "GET",
      "POST",
      "PUT",
      "DELETE",
      "OPTIONS"
     ],
     "AllowOrigins": [
      "*"
     ],
     "MaxAge": 3600
    },
    "Description": "REST API for Energy Data Insights (replacing AppSync)",
    "Name": "EnergyInsights-development-http-api",
    "ProtocolType": "HTTP"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/Resource"
   }
  },
  "HttpApiDefaultStage3EEB07D6": {
   "Type": "AWS::ApiGatewayV2::Stage",
   "Properties": {
    "AccessLogSettings": {
     "DestinationArn": {
      "Fn::GetAtt": [
       "ApiAccessLogsE9DF007D",
       "Arn"
      ]
     },
     "Format": "{\"requestId\":\"$context.requestId\",\"ip\":\"$context.identity.sourceIp\",\"requestTime\":\"$context.requestTime\",\"httpMethod\":\"$context.httpMethod\",\"routeKey\":\"$context.routeKey\",\"status\":\"$context.status\",\"protocol\":\"$context.protocol\",\"responseLength\":\"$context.responseLength\",\"errorMessage\":\"$context.error.message\",\"errorType\":\"$context.error.messageString\"}"
    },
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AutoDeploy": true,
    "StageName": "$default"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/DefaultStage/Resource"
   }
  },
  "HttpApiGETtestauthTestAuthIntegrationCA427712": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "TestAuthFunctionE65B7312",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--test--auth/TestAuthIntegration/Resource"
   }
  },
  "HttpApiGETtestauthTestAuthIntegrationPermission629B3FF4": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "TestAuthFunctionE65B7312",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/test/auth"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--test--auth/TestAuthIntegration-Permission"
   }
  },
  "HttpApiGETtestauthEDCE5CC5": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /test/auth",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETtestauthTestAuthIntegrationCA427712"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--test--auth/Resource"
   }
  },
  "HttpApiCustomAuthorizer0C501DB0": {
   "Type": "AWS::ApiGatewayV2::Authorizer",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizerPayloadFormatVersion": "2.0",
    "AuthorizerResultTtlInSeconds": 300,
    "AuthorizerType": "REQUEST",
    "AuthorizerUri": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":apigateway:us-east-1:lambda:path/2015-03-31/functions/",
       {
        "Fn::GetAtt": [
         "AuthorizerFunction40EC414F",
         "Arn"
        ]
       },
       "/invocations"
      ]
     ]
    },
    "EnableSimpleResponses": true,
    "IdentitySource": [
     "$request.header.Authorization"
    ],
    "Name": "EnergyInsights-development-custom-authorizer"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/CustomAuthorizer/Resource"
   }
  },
  "HttpApiEnergyInsightsdevelopmentHttpApiCustomAuthorizer852188DFPermissionC0A05066": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "AuthorizerFunction40EC414F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/authorizers/",
       {
        "Ref": "HttpApiCustomAuthorizer0C501DB0"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/EnergyInsightsdevelopmentHttpApiCustomAuthorizer852188DF-Permission"
   }
  },
  "HttpApiPOSTapiprojectsdeleteDeleteProjectIntegration0A4913D2": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "ProjectsFunction4DE27BEB",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--projects--delete/DeleteProjectIntegration/Resource"
   }
  },
  "HttpApiPOSTapiprojectsdeleteDeleteProjectIntegrationPermission9D887930": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ProjectsFunction4DE27BEB",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/projects/delete"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--projects--delete/DeleteProjectIntegration-Permission"
   }
  },
  "HttpApiPOSTapiprojectsdelete19A15D54": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/projects/delete",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTapiprojectsdeleteDeleteProjectIntegration0A4913D2"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--projects--delete/Resource"
   }
  },
  "HttpApiPOSTapiprojectsrenameRenameProjectIntegrationF9F10552": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "ProjectsFunction4DE27BEB",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--projects--rename/RenameProjectIntegration/Resource"
   }
  },
  "HttpApiPOSTapiprojectsrenameRenameProjectIntegrationPermission17D13D59": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ProjectsFunction4DE27BEB",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/projects/rename"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--projects--rename/RenameProjectIntegration-Permission"
   }
  },
  "HttpApiPOSTapiprojectsrename7B331452": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/projects/rename",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTapiprojectsrenameRenameProjectIntegrationF9F10552"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--projects--rename/Resource"
   }
  },
  "HttpApiGETapiprojectsprojectIdGetProjectIntegration4B111524": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "ProjectsFunction4DE27BEB",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--projects--{projectId}/GetProjectIntegration/Resource"
   }
  },
  "HttpApiGETapiprojectsprojectIdGetProjectIntegrationPermission502C31D6": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ProjectsFunction4DE27BEB",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/projects/{projectId}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--projects--{projectId}/GetProjectIntegration-Permission"
   }
  },
  "HttpApiGETapiprojectsprojectId88AD3DBB": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/projects/{projectId}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapiprojectsprojectIdGetProjectIntegration4B111524"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--projects--{projectId}/Resource"
   }
  },
  "HttpApiPOSTapichatmessageChatMessageIntegration4918E6FA": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "ChatFunction6D49312C",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0",
    "TimeoutInMillis": 29000
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--chat--message/ChatMessageIntegration/Resource"
   }
  },
  "HttpApiPOSTapichatmessageChatMessageIntegrationPermission61E8B596": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ChatFunction6D49312C",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/chat/message"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--chat--message/ChatMessageIntegration-Permission"
   }
  },
  "HttpApiPOSTapichatmessageDF69CC5B": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/chat/message",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTapichatmessageChatMessageIntegration4918E6FA"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--chat--message/Resource"
   }
  },
  "HttpApiPOSTapichatsessionsCreateSessionIntegration847489B3": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--chat--sessions/CreateSessionIntegration/Resource"
   }
  },
  "HttpApiPOSTapichatsessionsCreateSessionIntegrationPermission8249B5DE": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/chat/sessions"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--chat--sessions/CreateSessionIntegration-Permission"
   }
  },
  "HttpApiPOSTapichatsessionsCFFBB90A": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/chat/sessions",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTapichatsessionsCreateSessionIntegration847489B3"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--chat--sessions/Resource"
   }
  },
  "HttpApiGETapichatsessionsListSessionsIntegration49A576FB": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--chat--sessions/ListSessionsIntegration/Resource"
   }
  },
  "HttpApiGETapichatsessionsListSessionsIntegrationPermission7DC11C44": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/chat/sessions"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--chat--sessions/ListSessionsIntegration-Permission"
   }
  },
  "HttpApiGETapichatsessions72FACED2": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/chat/sessions",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapichatsessionsListSessionsIntegration49A576FB"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--chat--sessions/Resource"
   }
  },
  "HttpApiGETapichatsessionsidGetSessionIntegrationD141E43F": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--chat--sessions--{id}/GetSessionIntegration/Resource"
   }
  },
  "HttpApiGETapichatsessionsidGetSessionIntegrationPermissionC0C2F850": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/chat/sessions/{id}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--chat--sessions--{id}/GetSessionIntegration-Permission"
   }
  },
  "HttpApiGETapichatsessionsid081D34ED": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/chat/sessions/{id}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapichatsessionsidGetSessionIntegrationD141E43F"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--chat--sessions--{id}/Resource"
   }
  },
  "HttpApiPATCHapichatsessionsidUpdateSessionIntegrationCDB25EE0": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/PATCH--api--chat--sessions--{id}/UpdateSessionIntegration/Resource"
   }
  },
  "HttpApiPATCHapichatsessionsidUpdateSessionIntegrationPermission6C27C7D0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/chat/sessions/{id}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/PATCH--api--chat--sessions--{id}/UpdateSessionIntegration-Permission"
   }
  },
  "HttpApiPATCHapichatsessionsidA0D10BC2": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "PATCH /api/chat/sessions/{id}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPATCHapichatsessionsidUpdateSessionIntegrationCDB25EE0"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/PATCH--api--chat--sessions--{id}/Resource"
   }
  },
  "HttpApiDELETEapichatsessionsidDeleteSessionIntegration21DEE616": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/DELETE--api--chat--sessions--{id}/DeleteSessionIntegration/Resource"
   }
  },
  "HttpApiDELETEapichatsessionsidDeleteSessionIntegrationPermission82B8B60C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/chat/sessions/{id}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/DELETE--api--chat--sessions--{id}/DeleteSessionIntegration-Permission"
   }
  },
  "HttpApiDELETEapichatsessionsidAB38013F": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "DELETE /api/chat/sessions/{id}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiDELETEapichatsessionsidDeleteSessionIntegration21DEE616"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/DELETE--api--chat--sessions--{id}/Resource"
   }
  },
  "HttpApiGETapichatsessionsidmessagesGetSessionMessagesIntegrationA571AE6F": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--chat--sessions--{id}--messages/GetSessionMessagesIntegration/Resource"
   }
  },
  "HttpApiGETapichatsessionsidmessagesGetSessionMessagesIntegrationPermission251A4563": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ChatSessionsFunction068288E8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/chat/sessions/{id}/messages"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--chat--sessions--{id}--messages/GetSessionMessagesIntegration-Permission"
   }
  },
  "HttpApiGETapichatsessionsidmessages3AAB5197": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/chat/sessions/{id}/messages",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapichatsessionsidmessagesGetSessionMessagesIntegrationA571AE6F"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--chat--sessions--{id}--messages/Resource"
   }
  },
  "HttpApiPOSTapirenewableanalyzeRenewableAnalyzeIntegration8165A325": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "RenewableOrchestratorFunctionD83ABE85",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0",
    "TimeoutInMillis": 29000
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--renewable--analyze/RenewableAnalyzeIntegration/Resource"
   }
  },
  "HttpApiPOSTapirenewableanalyzeRenewableAnalyzeIntegrationPermissionD5345942": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "RenewableOrchestratorFunctionD83ABE85",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/renewable/analyze"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--renewable--analyze/RenewableAnalyzeIntegration-Permission"
   }
  },
  "HttpApiPOSTapirenewableanalyze4C65585B": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/renewable/analyze",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTapirenewableanalyzeRenewableAnalyzeIntegration8165A325"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--renewable--analyze/Resource"
   }
  },
  "HttpApiGETapicatalogmapdataCatalogMapDataIntegration871CA8C0": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "CatalogMapDataFunction79F61206",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0",
    "TimeoutInMillis": 29000
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--catalog--map-data/CatalogMapDataIntegration/Resource"
   }
  },
  "HttpApiGETapicatalogmapdataCatalogMapDataIntegrationPermissionDE076C63": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CatalogMapDataFunction79F61206",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/catalog/map-data"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--catalog--map-data/CatalogMapDataIntegration-Permission"
   }
  },
  "HttpApiGETapicatalogmapdataFCA61C1F": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/catalog/map-data",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapicatalogmapdataCatalogMapDataIntegration871CA8C0"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--catalog--map-data/Resource"
   }
  },
  "HttpApiPOSTapicatalogsearchCatalogSearchIntegrationAF7A266A": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "CatalogSearchFunction7B67FC54",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0",
    "TimeoutInMillis": 29000
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--catalog--search/CatalogSearchIntegration/Resource"
   }
  },
  "HttpApiPOSTapicatalogsearchCatalogSearchIntegrationPermissionD613545D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CatalogSearchFunction7B67FC54",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/catalog/search"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--catalog--search/CatalogSearchIntegration-Permission"
   }
  },
  "HttpApiPOSTapicatalogsearchBECF424B": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/catalog/search",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTapicatalogsearchCatalogSearchIntegrationAF7A266A"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--catalog--search/Resource"
   }
  },
  "HttpApiPOSTapicollectionscreateCollectionsCreateIntegration1FE9D05B": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--collections--create/CollectionsCreateIntegration/Resource"
   }
  },
  "HttpApiPOSTapicollectionscreateCollectionsCreateIntegrationPermission7C2E33A5": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/collections/create"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--collections--create/CollectionsCreateIntegration-Permission"
   }
  },
  "HttpApiPOSTapicollectionscreate46987CE4": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/collections/create",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTapicollectionscreateCollectionsCreateIntegration1FE9D05B"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--collections--create/Resource"
   }
  },
  "HttpApiGETapicollectionslistCollectionsListIntegration0B279BE4": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--collections--list/CollectionsListIntegration/Resource"
   }
  },
  "HttpApiGETapicollectionslistCollectionsListIntegrationPermissionEC7642E0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/collections/list"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--collections--list/CollectionsListIntegration-Permission"
   }
  },
  "HttpApiGETapicollectionslist09AD90E5": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/collections/list",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapicollectionslistCollectionsListIntegration0B279BE4"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--collections--list/Resource"
   }
  },
  "HttpApiGETapicollectionsidCollectionsGetIntegrationD4035D53": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--collections--{id}/CollectionsGetIntegration/Resource"
   }
  },
  "HttpApiGETapicollectionsidCollectionsGetIntegrationPermissionC0F4067B": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/collections/{id}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--collections--{id}/CollectionsGetIntegration-Permission"
   }
  },
  "HttpApiGETapicollectionsidD335E77E": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/collections/{id}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapicollectionsidCollectionsGetIntegrationD4035D53"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--collections--{id}/Resource"
   }
  },
  "HttpApiPUTapicollectionsidCollectionsUpdateIntegrationFD426DB0": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/PUT--api--collections--{id}/CollectionsUpdateIntegration/Resource"
   }
  },
  "HttpApiPUTapicollectionsidCollectionsUpdateIntegrationPermission0DC14A42": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/collections/{id}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/PUT--api--collections--{id}/CollectionsUpdateIntegration-Permission"
   }
  },
  "HttpApiPUTapicollectionsid3503533C": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "PUT /api/collections/{id}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPUTapicollectionsidCollectionsUpdateIntegrationFD426DB0"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/PUT--api--collections--{id}/Resource"
   }
  },
  "HttpApiDELETEapicollectionsidCollectionsDeleteIntegration40672124": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/DELETE--api--collections--{id}/CollectionsDeleteIntegration/Resource"
   }
  },
  "HttpApiDELETEapicollectionsidCollectionsDeleteIntegrationPermission627F38F0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/collections/{id}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/DELETE--api--collections--{id}/CollectionsDeleteIntegration-Permission"
   }
  },
  "HttpApiDELETEapicollectionsid056433C8": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "DELETE /api/collections/{id}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiDELETEapicollectionsidCollectionsDeleteIntegration40672124"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/DELETE--api--collections--{id}/Resource"
   }
  },
  "HttpApiPOSTapicollectionsidqueryCollectionsQueryIntegrationD519DDA7": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--collections--{id}--query/CollectionsQueryIntegration/Resource"
   }
  },
  "HttpApiPOSTapicollectionsidqueryCollectionsQueryIntegrationPermission77109746": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CollectionsFunctionFDA9DA64",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/collections/{id}/query"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--collections--{id}--query/CollectionsQueryIntegration-Permission"
   }
  },
  "HttpApiPOSTapicollectionsidquery943576F1": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/collections/{id}/query",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTapicollectionsidqueryCollectionsQueryIntegrationD519DDA7"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--collections--{id}--query/Resource"
   }
  },
  "HttpApiPOSTapiosdusearchOsduSearchIntegration86705B9C": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "OsduFunction4244E499",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--osdu--search/OsduSearchIntegration/Resource"
   }
  },
  "HttpApiPOSTapiosdusearchOsduSearchIntegrationPermissionC8898702": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "OsduFunction4244E499",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/osdu/search"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--osdu--search/OsduSearchIntegration-Permission"
   }
  },
  "HttpApiPOSTapiosdusearch292BD538": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/osdu/search",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTapiosdusearchOsduSearchIntegration86705B9C"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--osdu--search/Resource"
   }
  },
  "HttpApiGETapiosduwellsidOsduWellIntegrationBFB298CF": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "OsduFunction4244E499",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--osdu--wells--{id}/OsduWellIntegration/Resource"
   }
  },
  "HttpApiGETapiosduwellsidOsduWellIntegrationPermission74078B2F": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "OsduFunction4244E499",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/osdu/wells/{id}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--osdu--wells--{id}/OsduWellIntegration-Permission"
   }
  },
  "HttpApiGETapiosduwellsidA9B7A8A0": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/osdu/wells/{id}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapiosduwellsidOsduWellIntegrationBFB298CF"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--osdu--wells--{id}/Resource"
   }
  },
  "HttpApiGETapirenewableproxyRenewableApiIntegration6ADDDA3A": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "RenewableApiFunctionFBC23065",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0",
    "TimeoutInMillis": 29000
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--renewable--{proxy+}/RenewableApiIntegration/Resource"
   }
  },
  "HttpApiGETapirenewableproxyRenewableApiIntegrationPermissionCB30FB26": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "RenewableApiFunctionFBC23065",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/renewable/{proxy+}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--renewable--{proxy+}/RenewableApiIntegration-Permission"
   }
  },
  "HttpApiGETapirenewableproxy676AECD2": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/renewable/{proxy+}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapirenewableproxyRenewableApiIntegration6ADDDA3A"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--renewable--{proxy+}/Resource"
   }
  },
  "HttpApiPOSTapirenewableproxyRenewableApiIntegrationPermissionEBC689A2": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "RenewableApiFunctionFBC23065",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/renewable/{proxy+}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--renewable--{proxy+}/RenewableApiIntegration-Permission"
   }
  },
  "HttpApiPOSTapirenewableproxyF485785E": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/renewable/{proxy+}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapirenewableproxyRenewableApiIntegration6ADDDA3A"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--renewable--{proxy+}/Resource"
   }
  },
  "HttpApiPUTapirenewableproxyRenewableApiIntegrationPermissionEC8A6D96": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "RenewableApiFunctionFBC23065",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/renewable/{proxy+}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/PUT--api--renewable--{proxy+}/RenewableApiIntegration-Permission"
   }
  },
  "HttpApiPUTapirenewableproxy66CFB10F": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "PUT /api/renewable/{proxy+}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapirenewableproxyRenewableApiIntegration6ADDDA3A"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/PUT--api--renewable--{proxy+}/Resource"
   }
  },
  "HttpApiDELETEapirenewableproxyRenewableApiIntegrationPermissionE19F3EEF": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "RenewableApiFunctionFBC23065",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/renewable/{proxy+}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/DELETE--api--renewable--{proxy+}/RenewableApiIntegration-Permission"
   }
  },
  "HttpApiDELETEapirenewableproxy1F117745": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "DELETE /api/renewable/{proxy+}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapirenewableproxyRenewableApiIntegration6ADDDA3A"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/DELETE--api--renewable--{proxy+}/Resource"
   }
  },
  "HttpApiGETapihealthproxyHealthApiIntegrationE1A3018A": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "HealthApiFunction9DC1BFF7",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--health--{proxy+}/HealthApiIntegration/Resource"
   }
  },
  "HttpApiGETapihealthproxyHealthApiIntegrationPermissionC4738CD0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "HealthApiFunction9DC1BFF7",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/health/{proxy+}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--health--{proxy+}/HealthApiIntegration-Permission"
   }
  },
  "HttpApiGETapihealthproxy13BCAFBC": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/health/{proxy+}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapihealthproxyHealthApiIntegrationE1A3018A"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--health--{proxy+}/Resource"
   }
  },
  "HttpApiPOSTapihealthproxyHealthApiIntegrationPermission3141363D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "HealthApiFunction9DC1BFF7",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/health/{proxy+}"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--health--{proxy+}/HealthApiIntegration-Permission"
   }
  },
  "HttpApiPOSTapihealthproxy59BC6D1E": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/health/{proxy+}",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapihealthproxyHealthApiIntegrationE1A3018A"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--health--{proxy+}/Resource"
   }
  },
  "HttpApiGETapis3proxyS3ProxyApiIntegration506E5040": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "S3ProxyApiFunctionD749196E",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--s3-proxy/S3ProxyApiIntegration/Resource"
   }
  },
  "HttpApiGETapis3proxyS3ProxyApiIntegrationPermissionBEB5F60C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "S3ProxyApiFunctionD749196E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/s3-proxy"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--s3-proxy/S3ProxyApiIntegration-Permission"
   }
  },
  "HttpApiGETapis3proxy5B12E340": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/s3-proxy",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapis3proxyS3ProxyApiIntegration506E5040"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--s3-proxy/Resource"
   }
  },
  "HttpApiPOSTapis3proxyS3ProxyApiIntegrationPermission0C26EAAA": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "S3ProxyApiFunctionD749196E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/s3-proxy"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--s3-proxy/S3ProxyApiIntegration-Permission"
   }
  },
  "HttpApiPOSTapis3proxy8FC4EEFF": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/s3-proxy",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapis3proxyS3ProxyApiIntegration506E5040"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--s3-proxy/Resource"
   }
  },
  "HttpApiPOSTapiglobaldirectoryscanUtilityApiIntegration1281B104D": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "UtilityApiFunction5FD04A13",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--global-directory-scan/UtilityApiIntegration1/Resource"
   }
  },
  "HttpApiPOSTapiglobaldirectoryscanUtilityApiIntegration1Permission6ED7AFF8": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "UtilityApiFunction5FD04A13",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/global-directory-scan"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--global-directory-scan/UtilityApiIntegration1-Permission"
   }
  },
  "HttpApiPOSTapiglobaldirectoryscan58CF6A19": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "POST /api/global-directory-scan",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTapiglobaldirectoryscanUtilityApiIntegration1281B104D"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/POST--api--global-directory-scan/Resource"
   }
  },
  "HttpApiGETapitestrenewableconfigUtilityApiIntegration236BBBAC3": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "UtilityApiFunction5FD04A13",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--test-renewable-config/UtilityApiIntegration2/Resource"
   }
  },
  "HttpApiGETapitestrenewableconfigUtilityApiIntegration2Permission3209A1FB": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "UtilityApiFunction5FD04A13",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:us-east-1:484907533441:",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/api/test-renewable-config"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--test-renewable-config/UtilityApiIntegration2-Permission"
   }
  },
  "HttpApiGETapitestrenewableconfig64281111": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "CUSTOM",
    "AuthorizerId": {
     "Ref": "HttpApiCustomAuthorizer0C501DB0"
    },
    "RouteKey": "GET /api/test-renewable-config",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETapitestrenewableconfigUtilityApiIntegration236BBBAC3"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HttpApi/GET--api--test-renewable-config/Resource"
   }
  },
  "AuthorizerFunctionLogGroupB47801AB": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-custom-authorizer",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/AuthorizerFunction/LogGroup/Resource"
   }
  },
  "AuthorizerFunctionServiceRole61FF0432": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/AuthorizerFunction/Function/ServiceRole/Resource"
   }
  },
  "AuthorizerFunctionServiceRoleDefaultPolicyDD4B278D": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "cognito-idp:DescribeUserPool",
        "cognito-idp:DescribeUserPoolClient"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":cognito-idp:us-east-1:484907533441:userpool/us-east-1_sC6yswGji"
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "AuthorizerFunctionServiceRoleDefaultPolicyDD4B278D",
    "Roles": [
     {
      "Ref": "AuthorizerFunctionServiceRole61FF0432"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/AuthorizerFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "AuthorizerFunction40EC414F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "342c190a77c958df8c001f00f18c7e01d41d1af9e8d87d142fe25e31b76b89df.zip"
    },
    "Description": "Custom authorizer supporting Cognito JWT and mock development tokens",
    "Environment": {
     "Variables": {
      "USER_POOL_ID": "us-east-1_sC6yswGji",
      "USER_POOL_CLIENT_ID": "18m99t0u39vi9614ssd8sf8vmb",
      "ENABLE_MOCK_AUTH": "true"
     }
    },
    "FunctionName": "EnergyInsights-development-custom-authorizer",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "AuthorizerFunctionLogGroupB47801AB"
     }
    },
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "AuthorizerFunctionServiceRole61FF0432",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 30
   },
   "DependsOn": [
    "AuthorizerFunctionServiceRoleDefaultPolicyDD4B278D",
    "AuthorizerFunctionServiceRole61FF0432"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/AuthorizerFunction/Function/Resource",
    "aws:asset:path": "asset.342c190a77c958df8c001f00f18c7e01d41d1af9e8d87d142fe25e31b76b89df",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "TestAuthFunctionServiceRoleB0610A07": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/TestAuthFunction/ServiceRole/Resource"
   }
  },
  "TestAuthFunctionE65B7312": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "42e4555ee560e1073235434226aba0506ca27940e3051933b6b4b407342e51d6.zip"
    },
    "Description": "Test function to verify Cognito authorizer",
    "FunctionName": "EnergyInsights-development-test-auth",
    "Handler": "index.handler",
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "TestAuthFunctionServiceRoleB0610A07",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 30
   },
   "DependsOn": [
    "TestAuthFunctionServiceRoleB0610A07"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/TestAuthFunction/Resource",
    "aws:asset:path": "asset.42e4555ee560e1073235434226aba0506ca27940e3051933b6b4b407342e51d6",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ProjectsFunctionLogGroup7836EF30": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-projects",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ProjectsFunction/LogGroup/Resource"
   }
  },
  "ProjectsFunctionServiceRoleE473AC41": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ProjectsFunction/Function/ServiceRole/Resource"
   }
  },
  "ProjectsFunctionServiceRoleDefaultPolicy0E888F34": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:DeleteObject",
        "s3:ListBucket"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/RenewableSessionContext"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/AgentProgress"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ProjectsFunctionServiceRoleDefaultPolicy0E888F34",
    "Roles": [
     {
      "Ref": "ProjectsFunctionServiceRoleE473AC41"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ProjectsFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ProjectsFunction4DE27BEB": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "f5f4d839612b061331852edc79face7e178754df5d68ad41f7792496a1064605.zip"
    },
    "Description": "Handles renewable energy project management operations",
    "Environment": {
     "Variables": {
      "STORAGE_BUCKET": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy",
      "SESSION_CONTEXT_TABLE": "RenewableSessionContext",
      "AGENT_PROGRESS_TABLE": "AgentProgress"
     }
    },
    "FunctionName": "EnergyInsights-development-projects",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "ProjectsFunctionLogGroup7836EF30"
     }
    },
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "ProjectsFunctionServiceRoleE473AC41",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 300
   },
   "DependsOn": [
    "ProjectsFunctionServiceRoleDefaultPolicy0E888F34",
    "ProjectsFunctionServiceRoleE473AC41"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ProjectsFunction/Function/Resource",
    "aws:asset:path": "asset.f5f4d839612b061331852edc79face7e178754df5d68ad41f7792496a1064605",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ChatFunctionLogGroup78EC98F5": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-chat",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ChatFunction/LogGroup/Resource"
   }
  },
  "ChatFunctionServiceRole740B6C5A": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ChatFunction/Function/ServiceRole/Resource"
   }
  },
  "ChatFunctionServiceRoleDefaultPolicy5EC937D2": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/ChatSession-fhzj4la45fevdnax5s2o4hbuqy-NONE"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/Project-fhzj4la45fevdnax5s2o4hbuqy-NONE"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/AgentProgress"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/RenewableSessionContext"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": "dynamodb:Query",
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":dynamodb:us-east-1:484907533441:table/ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE/index/*"
         ]
        ]
       }
      },
      {
       "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:DeleteObject",
        "s3:ListBucket"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "bedrock:InvokeModel",
        "bedrock:InvokeModelWithResponseStream"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "PetrophysicsCalculatorFunctionD77F5906",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "PetrophysicsCalculatorFunctionD77F5906",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "RenewableOrchestratorFunctionD83ABE85",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ChatFunctionServiceRoleDefaultPolicy5EC937D2",
    "Roles": [
     {
      "Ref": "ChatFunctionServiceRole740B6C5A"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ChatFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ChatFunction6D49312C": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "12b79282221d5aecc10bbd32b88c8f09ea7e4e0227fc32e58c9bd4133197e315.zip"
    },
    "Description": "Handles chat messages and agent orchestration",
    "Environment": {
     "Variables": {
      "STORAGE_BUCKET": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy",
      "AMPLIFY_DATA_CHATMESSAGE_TABLE_NAME": "ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE",
      "AMPLIFY_DATA_CHATSESSION_TABLE_NAME": "ChatSession-fhzj4la45fevdnax5s2o4hbuqy-NONE",
      "AMPLIFY_DATA_PROJECT_TABLE_NAME": "Project-fhzj4la45fevdnax5s2o4hbuqy-NONE",
      "AMPLIFY_DATA_AGENTPROGRESS_TABLE_NAME": "AgentProgress",
      "AMPLIFY_DATA_SESSIONCONTEXT_TABLE_NAME": "RenewableSessionContext",
      "S3_BUCKET": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy",
      "CHAT_MESSAGE_TABLE": "ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE",
      "PETROPHYSICS_CALCULATOR_FUNCTION_NAME": {
       "Ref": "PetrophysicsCalculatorFunctionD77F5906"
      },
      "RENEWABLE_ORCHESTRATOR_FUNCTION_NAME": {
       "Ref": "RenewableOrchestratorFunctionD83ABE85"
      }
     }
    },
    "FunctionName": "EnergyInsights-development-chat",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "ChatFunctionLogGroup78EC98F5"
     }
    },
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "ChatFunctionServiceRole740B6C5A",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 300
   },
   "DependsOn": [
    "ChatFunctionServiceRoleDefaultPolicy5EC937D2",
    "ChatFunctionServiceRole740B6C5A"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ChatFunction/Function/Resource",
    "aws:asset:path": "asset.12b79282221d5aecc10bbd32b88c8f09ea7e4e0227fc32e58c9bd4133197e315",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "PetrophysicsCalculatorFunctionServiceRole897757BF": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/PetrophysicsCalculatorFunction/ServiceRole/Resource"
   }
  },
  "PetrophysicsCalculatorFunctionServiceRoleDefaultPolicyEDE16A7C": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "PetrophysicsCalculatorFunctionServiceRoleDefaultPolicyEDE16A7C",
    "Roles": [
     {
      "Ref": "PetrophysicsCalculatorFunctionServiceRole897757BF"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/PetrophysicsCalculatorFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "PetrophysicsCalculatorFunctionD77F5906": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "d7edae45ca39bf662cb0e3499b6e31affae792ea60017eba1d0509d05c12260d.zip"
    },
    "Description": "Petrophysics calculator using Python for LAS file analysis",
    "Environment": {
     "Variables": {
      "STORAGE_BUCKET": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
     }
    },
    "FunctionName": "EnergyInsights-development-petrophysics-calculator",
    "Handler": "handler.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "PetrophysicsCalculatorFunctionServiceRole897757BF",
      "Arn"
     ]
    },
    "Runtime": "python3.12",
    "Timeout": 60
   },
   "DependsOn": [
    "PetrophysicsCalculatorFunctionServiceRoleDefaultPolicyEDE16A7C",
    "PetrophysicsCalculatorFunctionServiceRole897757BF"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/PetrophysicsCalculatorFunction/Resource",
    "aws:asset:path": "asset.d7edae45ca39bf662cb0e3499b6e31affae792ea60017eba1d0509d05c12260d",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ChatSessionsFunctionLogGroup5A8AEDB1": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-chat-sessions",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ChatSessionsFunction/LogGroup/Resource"
   }
  },
  "ChatSessionsFunctionServiceRole253639B2": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ChatSessionsFunction/Function/ServiceRole/Resource"
   }
  },
  "ChatSessionsFunctionServiceRoleDefaultPolicy3980AD3D": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/ChatSession-fhzj4la45fevdnax5s2o4hbuqy-NONE"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": "dynamodb:Query",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/ChatSession-fhzj4la45fevdnax5s2o4hbuqy-NONE/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE/index/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ChatSessionsFunctionServiceRoleDefaultPolicy3980AD3D",
    "Roles": [
     {
      "Ref": "ChatSessionsFunctionServiceRole253639B2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ChatSessionsFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ChatSessionsFunction068288E8": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "ca0889c2966b3ee1bf5e379004ff21cf643c5d17f9081ebbf380066925997975.zip"
    },
    "Description": "Handles ChatSession CRUD operations",
    "Environment": {
     "Variables": {
      "CHAT_SESSION_TABLE": "ChatSession-fhzj4la45fevdnax5s2o4hbuqy-NONE",
      "CHAT_MESSAGE_TABLE": "ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE"
     }
    },
    "FunctionName": "EnergyInsights-development-chat-sessions",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "ChatSessionsFunctionLogGroup5A8AEDB1"
     }
    },
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "ChatSessionsFunctionServiceRole253639B2",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 30
   },
   "DependsOn": [
    "ChatSessionsFunctionServiceRoleDefaultPolicy3980AD3D",
    "ChatSessionsFunctionServiceRole253639B2"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/ChatSessionsFunction/Function/Resource",
    "aws:asset:path": "asset.ca0889c2966b3ee1bf5e379004ff21cf643c5d17f9081ebbf380066925997975",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "RenewableOrchestratorFunctionLogGroup38F9A98E": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-renewable-orchestrator",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/RenewableOrchestratorFunction/LogGroup/Resource"
   }
  },
  "RenewableOrchestratorFunctionServiceRoleE08A9AF7": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/RenewableOrchestratorFunction/Function/ServiceRole/Resource"
   }
  },
  "RenewableOrchestratorFunctionServiceRoleDefaultPolicy803EB971": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":dynamodb:us-east-1:484907533441:table/RenewableSessionContext"
          ]
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:DeleteObject",
        "s3:ListBucket"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        "arn:aws:lambda:us-east-1:484907533441:function:renewable-terrain-simple",
        "arn:aws:lambda:us-east-1:484907533441:function:renewable-layout-simple",
        "arn:aws:lambda:us-east-1:484907533441:function:renewable-simulation-simple"
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "RenewableOrchestratorFunctionServiceRoleDefaultPolicy803EB971",
    "Roles": [
     {
      "Ref": "RenewableOrchestratorFunctionServiceRoleE08A9AF7"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/RenewableOrchestratorFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "RenewableOrchestratorFunctionD83ABE85": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "dbf830001de01f89ab56d8367862ea36be4c3b63171ac22219795fe0cc95bbc1.zip"
    },
    "Description": "Coordinates renewable energy analysis workflows",
    "Environment": {
     "Variables": {
      "STORAGE_BUCKET": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy",
      "CHAT_MESSAGE_TABLE_NAME": "ChatMessage-fhzj4la45fevdnax5s2o4hbuqy-NONE",
      "SESSION_CONTEXT_TABLE": "RenewableSessionContext",
      "RENEWABLE_S3_BUCKET": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy",
      "RENEWABLE_TERRAIN_TOOL_FUNCTION_NAME": "renewable-terrain-simple",
      "RENEWABLE_LAYOUT_TOOL_FUNCTION_NAME": "renewable-layout-simple",
      "RENEWABLE_SIMULATION_TOOL_FUNCTION_NAME": "renewable-simulation-simple"
     }
    },
    "FunctionName": "EnergyInsights-development-renewable-orchestrator",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "RenewableOrchestratorFunctionLogGroup38F9A98E"
     }
    },
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "RenewableOrchestratorFunctionServiceRoleE08A9AF7",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 300
   },
   "DependsOn": [
    "RenewableOrchestratorFunctionServiceRoleDefaultPolicy803EB971",
    "RenewableOrchestratorFunctionServiceRoleE08A9AF7"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/RenewableOrchestratorFunction/Function/Resource",
    "aws:asset:path": "asset.dbf830001de01f89ab56d8367862ea36be4c3b63171ac22219795fe0cc95bbc1",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "CatalogMapDataFunctionLogGroup80D2323B": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-catalog-map-data",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CatalogMapDataFunction/LogGroup/Resource"
   }
  },
  "CatalogMapDataFunctionServiceRole3648287B": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CatalogMapDataFunction/Function/ServiceRole/Resource"
   }
  },
  "CatalogMapDataFunctionServiceRoleDefaultPolicyA0840E1D": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:DeleteObject",
        "s3:ListBucket"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "CatalogMapDataFunctionServiceRoleDefaultPolicyA0840E1D",
    "Roles": [
     {
      "Ref": "CatalogMapDataFunctionServiceRole3648287B"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CatalogMapDataFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "CatalogMapDataFunction79F61206": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "4fc53e8fdab1225812cf28514da33d2f53e8c1930e7f0e6811f02f84f3093be6.zip"
    },
    "Description": "Fetches well and seismic data for catalog map visualization",
    "Environment": {
     "Variables": {
      "STORAGE_BUCKET_NAME": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy",
      "OSDU_BASE_URL": "https://community.opensubsurface.org",
      "OSDU_PARTITION_ID": "opendes"
     }
    },
    "FunctionName": "EnergyInsights-development-catalog-map-data",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "CatalogMapDataFunctionLogGroup80D2323B"
     }
    },
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "CatalogMapDataFunctionServiceRole3648287B",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 30
   },
   "DependsOn": [
    "CatalogMapDataFunctionServiceRoleDefaultPolicyA0840E1D",
    "CatalogMapDataFunctionServiceRole3648287B"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CatalogMapDataFunction/Function/Resource",
    "aws:asset:path": "asset.4fc53e8fdab1225812cf28514da33d2f53e8c1930e7f0e6811f02f84f3093be6",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "CatalogSearchFunctionLogGroup32F63A47": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-catalog-search",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CatalogSearchFunction/LogGroup/Resource"
   }
  },
  "CatalogSearchFunctionServiceRole4FFA4C25": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CatalogSearchFunction/Function/ServiceRole/Resource"
   }
  },
  "CatalogSearchFunctionServiceRoleDefaultPolicyD3CB98FD": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:DeleteObject",
        "s3:ListBucket"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "bedrock:InvokeModel",
        "bedrock:InvokeModelWithResponseStream"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "CatalogSearchFunctionServiceRoleDefaultPolicyD3CB98FD",
    "Roles": [
     {
      "Ref": "CatalogSearchFunctionServiceRole4FFA4C25"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CatalogSearchFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "CatalogSearchFunction7B67FC54": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "9ddb5ab3a5d624379509aef319273882bd130d3de1a6bc31ee06591f7bbc09bf.zip"
    },
    "Description": "Performs intelligent catalog search with chain-of-thought reasoning",
    "Environment": {
     "Variables": {
      "STORAGE_BUCKET_NAME": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy",
      "OSDU_BASE_URL": "https://community.opensubsurface.org",
      "OSDU_PARTITION_ID": "opendes"
     }
    },
    "FunctionName": "EnergyInsights-development-catalog-search",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "CatalogSearchFunctionLogGroup32F63A47"
     }
    },
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "CatalogSearchFunctionServiceRole4FFA4C25",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 60
   },
   "DependsOn": [
    "CatalogSearchFunctionServiceRoleDefaultPolicyD3CB98FD",
    "CatalogSearchFunctionServiceRole4FFA4C25"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CatalogSearchFunction/Function/Resource",
    "aws:asset:path": "asset.9ddb5ab3a5d624379509aef319273882bd130d3de1a6bc31ee06591f7bbc09bf",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "CollectionsFunctionLogGroup0639A429": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-collections",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CollectionsFunction/LogGroup/Resource"
   }
  },
  "CollectionsFunctionServiceRoleBF87AE61": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CollectionsFunction/Function/ServiceRole/Resource"
   }
  },
  "CollectionsFunctionServiceRoleDefaultPolicy5DAADA4C": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:DeleteObject",
        "s3:ListBucket"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "CollectionsFunctionServiceRoleDefaultPolicy5DAADA4C",
    "Roles": [
     {
      "Ref": "CollectionsFunctionServiceRoleBF87AE61"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CollectionsFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "CollectionsFunctionFDA9DA64": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "b23e788e8b59aee6b1bb94a55210b579bb39d11a678f6fca039d0b92584b081c.zip"
    },
    "Description": "Handles collection management operations (create, list, get, update, delete, query)",
    "Environment": {
     "Variables": {
      "STORAGE_BUCKET_NAME": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
     }
    },
    "FunctionName": "EnergyInsights-development-collections",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "CollectionsFunctionLogGroup0639A429"
     }
    },
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "CollectionsFunctionServiceRoleBF87AE61",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 60
   },
   "DependsOn": [
    "CollectionsFunctionServiceRoleDefaultPolicy5DAADA4C",
    "CollectionsFunctionServiceRoleBF87AE61"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CollectionsFunction/Function/Resource",
    "aws:asset:path": "asset.b23e788e8b59aee6b1bb94a55210b579bb39d11a678f6fca039d0b92584b081c",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "OsduFunctionLogGroup15866C8B": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-osdu",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/OsduFunction/LogGroup/Resource"
   }
  },
  "OsduFunctionServiceRoleCF79EC76": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/OsduFunction/Function/ServiceRole/Resource"
   }
  },
  "OsduFunction4244E499": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "1b492b8465fc9d95cf983b37e1d46d353c14f42214c2578eff189f3e2f8b8ab8.zip"
    },
    "Description": "Handles OSDU data platform integration and search",
    "Environment": {
     "Variables": {
      "OSDU_API_URL": "https://api.osdu.example.com/search",
      "OSDU_API_KEY": ""
     }
    },
    "FunctionName": "EnergyInsights-development-osdu",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "OsduFunctionLogGroup15866C8B"
     }
    },
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "OsduFunctionServiceRoleCF79EC76",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 60
   },
   "DependsOn": [
    "OsduFunctionServiceRoleCF79EC76"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/OsduFunction/Function/Resource",
    "aws:asset:path": "asset.1b492b8465fc9d95cf983b37e1d46d353c14f42214c2578eff189f3e2f8b8ab8",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "RenewableApiFunctionLogGroupDC066B3E": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-api-renewable",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/RenewableApiFunction/LogGroup/Resource"
   }
  },
  "RenewableApiFunctionServiceRole98E26C38": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/RenewableApiFunction/Function/ServiceRole/Resource"
   }
  },
  "RenewableApiFunctionServiceRoleDefaultPolicy09F2E95B": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:DeleteObject",
        "s3:ListBucket"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "RenewableApiFunctionServiceRoleDefaultPolicy09F2E95B",
    "Roles": [
     {
      "Ref": "RenewableApiFunctionServiceRole98E26C38"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/RenewableApiFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "RenewableApiFunctionFBC23065": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "3633a377c9cb0d19c7e705e1c87766424017bcbdd6d76c95cbb9bba3fdcb9b87.zip"
    },
    "Description": "Handles all /api/renewable/* routes (health, diagnostics, energy, wind data)",
    "Environment": {
     "Variables": {
      "STORAGE_BUCKET_NAME": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
     }
    },
    "FunctionName": "EnergyInsights-development-api-renewable",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "RenewableApiFunctionLogGroupDC066B3E"
     }
    },
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "RenewableApiFunctionServiceRole98E26C38",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 60
   },
   "DependsOn": [
    "RenewableApiFunctionServiceRoleDefaultPolicy09F2E95B",
    "RenewableApiFunctionServiceRole98E26C38"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/RenewableApiFunction/Function/Resource",
    "aws:asset:path": "asset.3633a377c9cb0d19c7e705e1c87766424017bcbdd6d76c95cbb9bba3fdcb9b87",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "HealthApiFunctionLogGroupFABFED4D": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-api-health",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HealthApiFunction/LogGroup/Resource"
   }
  },
  "HealthApiFunctionServiceRoleAB7FEEFB": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HealthApiFunction/Function/ServiceRole/Resource"
   }
  },
  "HealthApiFunctionServiceRoleDefaultPolicy14318513": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:DeleteObject",
        "s3:ListBucket"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "HealthApiFunctionServiceRoleDefaultPolicy14318513",
    "Roles": [
     {
      "Ref": "HealthApiFunctionServiceRoleAB7FEEFB"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HealthApiFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "HealthApiFunction9DC1BFF7": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "b9fbb435aae3996c222732a3e87a5dc2765f12f5581ecbb512b9ca07e7ad4aa9.zip"
    },
    "Description": "Handles /api/health/* routes",
    "Environment": {
     "Variables": {
      "STORAGE_BUCKET_NAME": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
     }
    },
    "FunctionName": "EnergyInsights-development-api-health",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "HealthApiFunctionLogGroupFABFED4D"
     }
    },
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "HealthApiFunctionServiceRoleAB7FEEFB",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 30
   },
   "DependsOn": [
    "HealthApiFunctionServiceRoleDefaultPolicy14318513",
    "HealthApiFunctionServiceRoleAB7FEEFB"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/HealthApiFunction/Function/Resource",
    "aws:asset:path": "asset.b9fbb435aae3996c222732a3e87a5dc2765f12f5581ecbb512b9ca07e7ad4aa9",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "S3ProxyApiFunctionLogGroupC25CEB26": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-api-s3-proxy",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/S3ProxyApiFunction/LogGroup/Resource"
   }
  },
  "S3ProxyApiFunctionServiceRoleA52A489C": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/S3ProxyApiFunction/Function/ServiceRole/Resource"
   }
  },
  "S3ProxyApiFunctionServiceRoleDefaultPolicy3A86C66C": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:DeleteObject",
        "s3:ListBucket"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "S3ProxyApiFunctionServiceRoleDefaultPolicy3A86C66C",
    "Roles": [
     {
      "Ref": "S3ProxyApiFunctionServiceRoleA52A489C"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/S3ProxyApiFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "S3ProxyApiFunctionD749196E": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "cf46eca6444a9f05560a73592570e7a061149c8dae1065fd8d27ea71569bc46f.zip"
    },
    "Description": "Handles /api/s3-proxy route",
    "Environment": {
     "Variables": {
      "STORAGE_BUCKET_NAME": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
     }
    },
    "FunctionName": "EnergyInsights-development-api-s3-proxy",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "S3ProxyApiFunctionLogGroupC25CEB26"
     }
    },
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "S3ProxyApiFunctionServiceRoleA52A489C",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 30
   },
   "DependsOn": [
    "S3ProxyApiFunctionServiceRoleDefaultPolicy3A86C66C",
    "S3ProxyApiFunctionServiceRoleA52A489C"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/S3ProxyApiFunction/Function/Resource",
    "aws:asset:path": "asset.cf46eca6444a9f05560a73592570e7a061149c8dae1065fd8d27ea71569bc46f",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "UtilityApiFunctionLogGroup37CD7B4F": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/lambda/EnergyInsights-development-api-utility",
    "RetentionInDays": 7
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/UtilityApiFunction/LogGroup/Resource"
   }
  },
  "UtilityApiFunctionServiceRoleA93E10DA": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/UtilityApiFunction/Function/ServiceRole/Resource"
   }
  },
  "UtilityApiFunctionServiceRoleDefaultPolicy137CEB3C": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:DeleteObject",
        "s3:ListBucket"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "UtilityApiFunctionServiceRoleDefaultPolicy137CEB3C",
    "Roles": [
     {
      "Ref": "UtilityApiFunctionServiceRoleA93E10DA"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/UtilityApiFunction/Function/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "UtilityApiFunction5FD04A13": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-484907533441-us-east-1",
     "S3Key": "c89f7f1c1ba2d75ef1bf0543cbc1054e8d36ea7b190a1d33acb57646100141da.zip"
    },
    "Description": "Handles utility routes (directory scan, config test)",
    "Environment": {
     "Variables": {
      "STORAGE_BUCKET_NAME": "amplify-digitalassistant--workshopstoragebucketd9b-mx1aevbdpmqy"
     }
    },
    "FunctionName": "EnergyInsights-development-api-utility",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "UtilityApiFunctionLogGroup37CD7B4F"
     }
    },
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "UtilityApiFunctionServiceRoleA93E10DA",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 60
   },
   "DependsOn": [
    "UtilityApiFunctionServiceRoleDefaultPolicy137CEB3C",
    "UtilityApiFunctionServiceRoleA93E10DA"
   ],
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/UtilityApiFunction/Function/Resource",
    "aws:asset:path": "asset.c89f7f1c1ba2d75ef1bf0543cbc1054e8d36ea7b190a1d33acb57646100141da",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "FrontendDistribution": {
   "Type": "AWS::CloudFront::Distribution",
   "Properties": {
    "DistributionConfig": {
     "CacheBehaviors": [
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS",
        "PUT",
        "POST",
        "PATCH",
        "DELETE"
       ],
       "CachePolicyId": "4135ea2d-6df8-44a3-9df3-4b5a84be39ad",
       "CachedMethods": [
        "GET",
        "HEAD"
       ],
       "Compress": false,
       "OriginRequestPolicyId": "216adef6-5c7f-47e4-b989-5492eafa07d3",
       "PathPattern": "/api/*",
       "TargetOriginId": "ApiGatewayOrigin",
       "ViewerProtocolPolicy": "redirect-to-https"
      }
     ],
     "Comment": "EnergyInsights-development Frontend Distribution - Static assets + API",
     "CustomErrorResponses": [
      {
       "ErrorCachingMinTTL": 300,
       "ErrorCode": 404,
       "ResponseCode": 200,
       "ResponsePagePath": "/index.html"
      },
      {
       "ErrorCachingMinTTL": 300,
       "ErrorCode": 403,
       "ResponseCode": 200,
       "ResponsePagePath": "/index.html"
      }
     ],
     "DefaultCacheBehavior": {
      "AllowedMethods": [
       "GET",
       "HEAD",
       "OPTIONS"
      ],
      "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
      "CachedMethods": [
       "GET",
       "HEAD"
      ],
      "Compress": true,
      "OriginRequestPolicyId": "88a5eaf4-2fd4-4709-b370-b4c650ea3fcf",
      "TargetOriginId": "S3Origin",
      "ViewerProtocolPolicy": "redirect-to-https"
     },
     "DefaultRootObject": "index.html",
     "Enabled": true,
     "Origins": [
      {
       "DomainName": {
        "Fn::GetAtt": [
         "FrontendBucketEFE2E19C",
         "RegionalDomainName"
        ]
       },
       "Id": "S3Origin",
       "S3OriginConfig": {
        "OriginAccessIdentity": {
         "Fn::Join": [
          "",
          [
           "origin-access-identity/cloudfront/",
           {
            "Ref": "FrontendOAIF4D25B13"
           }
          ]
         ]
        }
       }
      },
      {
       "CustomOriginConfig": {
        "HTTPPort": 80,
        "HTTPSPort": 443,
        "OriginProtocolPolicy": "https-only",
        "OriginSSLProtocols": [
         "TLSv1.2"
        ]
       },
       "DomainName": {
        "Fn::Select": [
         1,
         {
          "Fn::Split": [
           "://",
           {
            "Fn::GetAtt": [
             "HttpApiF5A9A8A7",
             "ApiEndpoint"
            ]
           }
          ]
         }
        ]
       },
       "Id": "ApiGatewayOrigin"
      }
     ],
     "PriceClass": "PriceClass_100"
    }
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/FrontendDistribution"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/3WRQW/CMAyFfwv3kLH2tGNhYkOaBCq7ozQJnaFNqtgBsaj/fUq6rmzSTu8950tiyxnPspwvZuKKc6nO8wYqHvYk5JmVGq13UrPV0Ww9dZ6YuOIhqJsRrVUVfxdVo5cCNcOch6WXZ00pDjbe+3aD7GwD8jaVh9wz2Vivjs4a4mHroAZTSKkRN0obAko3VpFZR+Y/4hmQHFSewJqeNaKtlOBh7Y2MlUjc+512LSAmFkTLQ2mbNGnSqdOxR8wPAlET8iIKa2yNPLzZ+sVZ30Vy9D0THdSC9FXcLhkPr0Rd0UFEosS4J1GnzwYTS6X1NLiNIV07MTb6J05c4enDOvjULj39k/qerTySbe/3N/lfRztnL6C0S1tLg8WOwNQ9M1ZpfsKHS7bgj088n50QYO68IWg1Lwf9Ar1nSgM+AgAA"
   },
   "Metadata": {
    "aws:cdk:path": "EnergyInsights-development/CDKMetadata/Default"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}
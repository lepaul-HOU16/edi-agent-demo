{
  "version": 3,
  "sources": ["../../../lambda-functions/catalog-map-data/handler.ts"],
  "sourcesContent": ["import { Handler } from 'aws-lambda';\nimport { S3Client, ListObjectsV2Command, GetObjectCommand } from '@aws-sdk/client-s3';\n\n// AWS S3 Configuration\nconst S3_BUCKET = process.env.STORAGE_BUCKET_NAME || 'amplify-d1eeg2gu6ddc3z-ma-workshopstoragebucketd9b-lzf4vwokty7m';\nconst S3_PREFIX = 'global/well-data/';\nconst s3Client = new S3Client({ region: process.env.AWS_REGION || 'us-east-1' });\n\n// OSDU Search API Configuration\nconst OSDU_BASE_URL = process.env.OSDU_BASE_URL || 'https://community.opensubsurface.org';\nconst OSDU_API_VERSION = 'v2';\nconst OSDU_PARTITION_ID = process.env.OSDU_PARTITION_ID || 'opendes';\n\ninterface OSDUSearchRequest {\n  kind: string;\n  query?: string;\n  limit?: number;\n  offset?: number;\n  returnedFields?: string[];\n}\n\n// Function to fetch well data from OSDU\nasync function fetchOSDUWells(): Promise<any> {\n  try {\n    const searchParams: OSDUSearchRequest = {\n      kind: 'osdu:wks:master-data--Wellbore:*',\n      limit: 50,\n      returnedFields: ['data.WellboreID', 'data.FacilityName', 'data.FacilityState', 'data.GeoLocation', 'data.VerticalMeasurement', 'data.WellType']\n    };\n\n    console.log('Fetching wells from OSDU:', JSON.stringify(searchParams, null, 2));\n\n    const response = await fetch(`${OSDU_BASE_URL}/api/search/${OSDU_API_VERSION}/query`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'data-partition-id': OSDU_PARTITION_ID,\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify(searchParams)\n    });\n\n    if (!response.ok) {\n      console.warn(`OSDU API returned ${response.status}: ${response.statusText}`);\n      return generateMockWellsData();\n    }\n\n    const osduResults = await response.json();\n    console.log('OSDU Wells Results:', JSON.stringify(osduResults, null, 2));\n\n    // Transform OSDU results to GeoJSON\n    return transformWellsToGeoJSON(osduResults.results || []);\n\n  } catch (error) {\n    console.error('Error fetching wells from OSDU:', error);\n    return generateMockWellsData();\n  }\n}\n\n// Function to fetch seismic data from OSDU\nasync function fetchOSDUSeismic(): Promise<any> {\n  try {\n    const searchParams: OSDUSearchRequest = {\n      kind: 'osdu:wks:work-product-component--SeismicTrace:*',\n      limit: 20,\n      returnedFields: ['data.Name', 'data.SurveyType', 'data.GeoLocation', 'data.AcquisitionDate']\n    };\n\n    console.log('Fetching seismic from OSDU:', JSON.stringify(searchParams, null, 2));\n\n    const response = await fetch(`${OSDU_BASE_URL}/api/search/${OSDU_API_VERSION}/query`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'data-partition-id': OSDU_PARTITION_ID,\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify(searchParams)\n    });\n\n    if (!response.ok) {\n      console.warn(`OSDU Seismic API returned ${response.status}: ${response.statusText}`);\n      return generateMockSeismicData();\n    }\n\n    const osduResults = await response.json();\n    console.log('OSDU Seismic Results:', JSON.stringify(osduResults, null, 2));\n\n    // Transform OSDU seismic results to GeoJSON\n    return transformSeismicToGeoJSON(osduResults.results || []);\n\n  } catch (error) {\n    console.error('Error fetching seismic from OSDU:', error);\n    return generateMockSeismicData();\n  }\n}\n\n// Transform OSDU well records to GeoJSON format\nfunction transformWellsToGeoJSON(osduRecords: any[]): any {\n  const features = osduRecords.map((record, index) => {\n    const wellData = record.data;\n    const coordinates = wellData.GeoLocation?.Wgs84Coordinates ? \n      [wellData.GeoLocation.Wgs84Coordinates.Longitude, wellData.GeoLocation.Wgs84Coordinates.Latitude] :\n      [107.2 + (index * 0.02), 10.2 + (index * 0.02)]; // Fallback coordinates - Vietnamese offshore petroleum blocks\n    \n    return {\n      type: \"Feature\",\n      geometry: {\n        type: \"Point\",\n        coordinates: coordinates\n      },\n      properties: {\n        name: wellData.FacilityName || wellData.WellboreID || `Well-${index + 1}`,\n        type: wellData.WellType || 'Unknown',\n        depth: wellData.VerticalMeasurement?.Depth ? \n          `${wellData.VerticalMeasurement.Depth.Value} ${wellData.VerticalMeasurement.Depth.UOM}` : \n          'Unknown',\n        location: wellData.FacilityState || 'Unknown',\n        osduId: record.id,\n        status: 'Active'\n      }\n    };\n  });\n\n  return {\n    type: \"FeatureCollection\",\n    features: features\n  };\n}\n\n// Transform OSDU seismic records to GeoJSON format\nfunction transformSeismicToGeoJSON(osduRecords: any[]): any {\n  const features = osduRecords.map((record, index) => {\n    const seismicData = record.data;\n    \n    // For seismic surveys, create line strings representing survey lines\n    // This is a simplified representation - actual seismic data would be more complex\n    const baseCoords = [107.3 + (index * 0.1), 10.3 + (index * 0.1)]; // Vietnamese offshore petroleum blocks coordinates\n    const coordinates = [\n      baseCoords,\n      [baseCoords[0] + 0.4, baseCoords[1] + 0.3]\n    ];\n    \n    return {\n      type: \"Feature\",\n      geometry: {\n        type: \"LineString\",\n        coordinates: coordinates\n      },\n      properties: {\n        name: seismicData.Name || `Seismic Survey ${index + 1}`,\n        type: seismicData.SurveyType || '2D Survey',\n        date: seismicData.AcquisitionDate || '2023',\n        osduId: record.id\n      }\n    };\n  });\n\n  return {\n    type: \"FeatureCollection\",\n    features: features\n  };\n}\n\n// Function to fetch real coordinates from CSV file in S3\nasync function fetchWellCoordinatesFromCSV(): Promise<Map<string, { lat: number; lon: number }>> {\n  try {\n    console.log('Fetching well coordinates from converted_coordinates.csv');\n    \n    const csvCommand = new GetObjectCommand({\n      Bucket: S3_BUCKET,\n      Key: `${S3_PREFIX}converted_coordinates.csv`\n    });\n    \n    const csvResponse = await s3Client.send(csvCommand);\n    const csvContent = await csvResponse.Body?.transformToString();\n    \n    if (!csvContent) {\n      console.warn('No CSV content found, using fallback coordinates');\n      return new Map();\n    }\n    \n    const coordinatesMap = new Map<string, { lat: number; lon: number }>();\n    const lines = csvContent.trim().split('\\n');\n    \n    // Skip header row\n    for (let i = 1; i < lines.length; i++) {\n      const [wellName, x, y, latitude, longitude] = lines[i].split(',');\n      if (wellName && latitude && longitude) {\n        coordinatesMap.set(wellName.trim(), {\n          lat: parseFloat(latitude.trim()),\n          lon: parseFloat(longitude.trim())\n        });\n      }\n    }\n    \n    console.log(`Loaded coordinates for ${coordinatesMap.size} wells from CSV`);\n    return coordinatesMap;\n  } catch (error) {\n    console.error('Error loading coordinates from CSV:', error);\n    return new Map();\n  }\n}\n\n// Function to fetch LAS files from S3 and create \"My Wells\"\nasync function fetchMyWells(): Promise<any> {\n  try {\n    console.log(`Fetching LAS files from S3 bucket: ${S3_BUCKET}, prefix: ${S3_PREFIX}`);\n    \n    // First get real coordinates\n    const coordinatesMap = await fetchWellCoordinatesFromCSV();\n    \n    const listCommand = new ListObjectsV2Command({\n      Bucket: S3_BUCKET,\n      Prefix: S3_PREFIX,\n      MaxKeys: 50\n    });\n    \n    const response = await s3Client.send(listCommand);\n    const lasFiles = response.Contents?.filter(obj => obj.Key?.endsWith('.las')) || [];\n    \n    console.log(`Found ${lasFiles.length} LAS files in S3`);\n    \n    // Fallback coordinates for offshore Brunei/Malaysia if no CSV data\n    const fallbackCoordinates = [\n      [114.45, 10.47], [114.49, 10.55], [114.49, 10.53], [114.49, 10.30], [114.56, 10.48],\n      [114.55, 10.35], [114.49, 10.39], [114.46, 10.36], [114.52, 10.41], [114.64, 10.45],\n      [114.62, 10.39], [114.46, 10.60], [114.50, 10.21], [114.50, 10.19], [114.63, 10.21],\n      [114.56, 10.12], [114.58, 10.15], [114.56, 10.15], [114.58, 10.16], [114.62, 10.20],\n      [114.57, 10.12], [114.56, 10.12], [114.49, 10.53], [114.55, 10.35], [114.52, 10.41]\n    ];\n    \n    const myWellsFeatures = lasFiles.map((file, index) => {\n      const fileName = file.Key?.replace(S3_PREFIX, '') || `Well-${index + 1}`;\n      const wellName = fileName.replace('.las', '').replace(/_/g, ' ').toUpperCase();\n      \n      // Use real coordinates from CSV if available, otherwise fallback\n      let coordinates;\n      const realCoords = coordinatesMap.get(wellName);\n      if (realCoords) {\n        coordinates = [realCoords.lon, realCoords.lat];\n      } else {\n        coordinates = fallbackCoordinates[index] || [114.5 + (index * 0.02), 10.3 + (index * 0.02)];\n      }\n      \n      // Estimate depth based on file size (rough approximation)\n      const fileSizeMB = (file.Size || 0) / (1024 * 1024);\n      const estimatedDepth = Math.floor(2000 + (fileSizeMB * 500)); // Rough estimate\n      \n      return {\n        type: \"Feature\",\n        geometry: {\n          type: \"Point\",\n          coordinates: coordinates\n        },\n        properties: {\n          name: wellName,\n          type: \"My Wells\",\n          depth: `${estimatedDepth}m (est.)`,\n          location: \"Offshore Brunei/Malaysia\",\n          operator: \"My Company\",\n          category: \"personal\",\n          fileName: fileName,\n          fileSize: `${fileSizeMB.toFixed(2)} MB`,\n          s3Key: file.Key,\n          lastModified: file.LastModified?.toISOString() || new Date().toISOString(),\n          dataSource: \"Personal LAS Files (Real Coordinates)\"\n        }\n      };\n    });\n    \n    return {\n      type: \"FeatureCollection\",\n      features: myWellsFeatures\n    };\n    \n  } catch (error) {\n    console.error('Error fetching LAS files from S3:', error);\n    // Return empty collection if S3 access fails\n    return {\n      type: \"FeatureCollection\",\n      features: []\n    };\n  }\n}\n\n// Generate mock wells data as fallback - now returns empty to remove initial dots\nfunction generateMockWellsData(): any {\n  return {\n    type: \"FeatureCollection\",\n    features: []\n  };\n}\n\n// Generate mock seismic data as fallback\nfunction generateMockSeismicData(): any {\n  return {\n    type: \"FeatureCollection\",\n    features: [\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"LineString\",\n          coordinates: [[107.1, 10.2], [107.6, 10.4]] // Vietnamese offshore petroleum blocks coordinates\n        },\n        properties: {\n          name: \"Seismic Survey Alpha\",\n          type: \"3D Survey\",\n          date: \"2023-Q4\"\n        }\n      },\n      {\n        type: \"Feature\",\n        geometry: {\n          type: \"LineString\",\n          coordinates: [[107.0, 10.0], [107.5, 10.3]] // Vietnamese offshore petroleum blocks coordinates\n        },\n        properties: {\n          name: \"Seismic Survey Beta\", \n          type: \"2D Survey\",\n          date: \"2023-Q2\"\n        }\n      }\n    ]\n  };\n}\n\nexport const handler: Handler = async (event) => {\n  try {\n    const { type } = event.arguments;\n    \n    console.log('Catalog Map Data Request:', { type });\n    \n    // Fetch wells, seismic data, and \"My Wells\" LAS files in parallel\n    const [wellsData, seismicData, myWellsData] = await Promise.all([\n      fetchOSDUWells(),\n      fetchOSDUSeismic(),\n      fetchMyWells()\n    ]);\n\n    // Combine OSDU wells and My Wells into a single collection\n    const combinedWells = {\n      type: \"FeatureCollection\",\n      features: [\n        ...(wellsData?.features || []),\n        ...(myWellsData?.features || [])\n      ]\n    };\n\n    const response = {\n      wells: combinedWells,\n      seismic: seismicData,\n      myWells: myWellsData // Also provide separately for filtering\n    };\n\n    console.log('Map Data Response:', {\n      osduWellsCount: wellsData?.features?.length || 0,\n      myWellsCount: myWellsData?.features?.length || 0,\n      totalWellsCount: combinedWells.features.length,\n      seismicCount: seismicData?.features?.length || 0\n    });\n\n    // Return the JSON string directly (matching the schema expectation)\n    return JSON.stringify(response);\n  } catch (error) {\n    console.error('Error in catalogMapData:', error);\n    throw new Error(`Map data fetch failed: ${error instanceof Error ? error.message : String(error)}`);\n  }\n};\n"],
  "mappings": "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",
  "names": []
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IAM Permissions Reference Cards - Index</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            background: #f5f5f5;
            color: #232f3e;
        }
        
        .header {
            background: linear-gradient(135deg, #232f3e 0%, #ff9900 100%);
            color: white;
            padding: 40px;
            border-radius: 12px;
            margin-bottom: 40px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0 0 15px 0;
            font-size: 36px;
        }
        
        .header p {
            margin: 0;
            font-size: 18px;
            opacity: 0.9;
        }
        
        .intro {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .intro h2 {
            margin: 0 0 15px 0;
            color: #232f3e;
        }
        
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            color: inherit;
            display: block;
        }
        
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }
        
        .card-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }
        
        .card h3 {
            margin: 0 0 10px 0;
            color: #232f3e;
            font-size: 20px;
        }
        
        .card p {
            margin: 0 0 15px 0;
            color: #545b64;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid #eee;
            font-size: 12px;
            color: #545b64;
        }
        
        .badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .badge.high {
            background: #d13212;
            color: white;
        }
        
        .badge.medium {
            background: #ff9900;
            color: white;
        }
        
        .badge.low {
            background: #1d8102;
            color: white;
        }
        
        .actions {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .actions h2 {
            margin: 0 0 20px 0;
            color: #232f3e;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .button {
            padding: 12px 24px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.2s;
            display: inline-block;
        }
        
        .button.primary {
            background: #ff9900;
            color: white;
        }
        
        .button.primary:hover {
            background: #ec7211;
        }
        
        .button.secondary {
            background: #232f3e;
            color: white;
        }
        
        .button.secondary:hover {
            background: #37475a;
        }
        
        .info-box {
            background: #e7f6fd;
            border-left: 4px solid #0073bb;
            padding: 20px;
            margin: 30px 0;
            border-radius: 4px;
        }
        
        .info-box h3 {
            margin: 0 0 10px 0;
            color: #0073bb;
        }
        
        .footer {
            text-align: center;
            padding: 30px;
            color: #545b64;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üîê IAM Permissions Reference Cards</h1>
        <p>AWS Energy Data Insights Platform | re:Invent Chalk Talk</p>
    </div>

    <div class="intro">
        <h2>üìö About These Reference Cards</h2>
        <p>
            These reference cards provide comprehensive IAM permission documentation for each Lambda function 
            in the AWS Energy Data Insights platform. Each card includes:
        </p>
        <ul>
            <li><strong>Required vs Optional Permissions:</strong> Visual indicators for permission criticality</li>
            <li><strong>Complete IAM Policy JSON:</strong> Copy-paste ready policy statements</li>
            <li><strong>Resource ARN Patterns:</strong> Specific resource identifiers for each permission</li>
            <li><strong>Use Case Descriptions:</strong> Why each permission is needed</li>
            <li><strong>Security Best Practices:</strong> Principle of least privilege guidance</li>
        </ul>
    </div>

    <div class="card-grid">
        <a href="01-lambda-authorizer.html" class="card">
            <div class="card-icon">üîê</div>
            <h3>Lambda Authorizer</h3>
            <p>
                Validates JWT tokens from Cognito User Pool for API Gateway HTTP API requests. 
                Minimal permissions for security validation only.
            </p>
            <div class="card-meta">
                <span>5 Permissions</span>
                <span class="badge low">Low Complexity</span>
            </div>
        </a>

        <a href="02-chat-lambda.html" class="card">
            <div class="card-icon">üí¨</div>
            <h3>Chat Lambda</h3>
            <p>
                Routes user queries to specialized agents, manages conversation state, invokes tool Lambdas, 
                and generates AI responses using Bedrock.
            </p>
            <div class="card-meta">
                <span>15+ Permissions</span>
                <span class="badge high">High Complexity</span>
            </div>
        </a>

        <a href="03-renewable-orchestrator.html" class="card">
            <div class="card-icon">üå¨Ô∏è</div>
            <h3>Renewable Orchestrator</h3>
            <p>
                Coordinates multiple tool invocations for wind farm analysis, manages project lifecycle, 
                and aggregates results from terrain, layout, simulation, and report tools.
            </p>
            <div class="card-meta">
                <span>12 Permissions</span>
                <span class="badge medium">Medium Complexity</span>
            </div>
        </a>

        <a href="04-tool-lambdas.html" class="card">
            <div class="card-icon">üîß</div>
            <h3>Tool Lambdas (Python)</h3>
            <p>
                Execute domain-specific analysis using Python scientific libraries. Includes terrain analysis, 
                layout optimization, wake simulation, report generation, and wind rose visualization.
            </p>
            <div class="card-meta">
                <span>5 Permissions</span>
                <span class="badge low">Low Complexity</span>
            </div>
        </a>

        <a href="05-petrophysics-calculator.html" class="card">
            <div class="card-icon">üõ¢Ô∏è</div>
            <h3>Petrophysics Calculator</h3>
            <p>
                Processes LAS files and performs petrophysical calculations including porosity, shale volume, 
                and water saturation using industry-standard methods (SPE, API RP 40).
            </p>
            <div class="card-meta">
                <span>6 Permissions</span>
                <span class="badge low">Low Complexity</span>
            </div>
        </a>
    </div>

    <div class="actions">
        <h2>üì• Download Options</h2>
        <div class="button-group">
            <a href="#" class="button primary" onclick="printAll(); return false;">üñ®Ô∏è Print All Cards</a>
            <a href="#" class="button secondary" onclick="downloadAll(); return false;">üì¶ Download All as PDF</a>
            <a href="permissions-summary.html" class="button secondary">üìä View Summary Matrix</a>
        </div>
    </div>

    <div class="info-box">
        <h3>üí° Usage Tips</h3>
        <ul>
            <li><strong>For Presentations:</strong> Print individual cards on 8.5x11 paper for easy reference during chalk talks</li>
            <li><strong>For Implementation:</strong> Copy the JSON policy statements directly into your CDK/CloudFormation templates</li>
            <li><strong>For Security Review:</strong> Use the permission descriptions to validate least privilege compliance</li>
            <li><strong>For Troubleshooting:</strong> Check required permissions when debugging access denied errors</li>
        </ul>
    </div>

    <div class="info-box">
        <h3>üîí Security Best Practices</h3>
        <ul>
            <li><strong>Principle of Least Privilege:</strong> Each Lambda has only the permissions it needs</li>
            <li><strong>Resource-Specific ARNs:</strong> Permissions scoped to specific resources, not wildcards</li>
            <li><strong>No Cross-Account Access:</strong> All resources within same AWS account</li>
            <li><strong>Read-Only Where Possible:</strong> Tool Lambdas only have read access to source data</li>
            <li><strong>Audit Logging:</strong> All actions logged to CloudWatch for compliance</li>
        </ul>
    </div>

    <div class="footer">
        <p><strong>AWS Energy Data Insights Platform</strong></p>
        <p>re:Invent Chalk Talk | IAM Permissions Reference Cards</p>
        <p>Generated: 2025-01-15 | Version 1.0</p>
    </div>

    <script>
        function printAll() {
            const cards = [
                '01-lambda-authorizer.html',
                '02-chat-lambda.html',
                '03-renewable-orchestrator.html',
                '04-tool-lambdas.html',
                '05-petrophysics-calculator.html'
            ];
            
            cards.forEach((card, index) => {
                setTimeout(() => {
                    window.open(card, '_blank');
                }, index * 500);
            });
            
            alert('Opening all cards in new tabs. Use your browser\'s print function (Ctrl/Cmd+P) to print each one.');
        }
        
        function downloadAll() {
            alert('To generate PDFs:\n\n1. Open each card in your browser\n2. Use Print (Ctrl/Cmd+P)\n3. Select "Save as PDF" as the destination\n4. Save with the card name\n\nOr use the generate-pdfs.sh script for automated PDF generation.');
        }
    </script>
</body>
</html>

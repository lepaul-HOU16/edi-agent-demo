import {
  useMobile
} from "./chunk-ZRGU2BWH.js";
import {
  spaceScaledS
} from "./chunk-LSG22TNR.js";
import {
  getOverflowParents
} from "./chunk-G4E5S7N7.js";
import {
  useModalContext
} from "./chunk-XQ7LOIJ7.js";
import {
  useFunnelSubStep
} from "./chunk-3YAZCWEI.js";
import {
  useMergeRefs
} from "./chunk-3AQDIJNT.js";
import {
  getAnalyticsLabelAttribute,
  useUniqueId
} from "./chunk-UO4K3KY5.js";
import {
  clsx_m_default,
  findUpUntil,
  getBaseProps,
  useVisualRefresh
} from "./chunk-TACQRHRS.js";
import {
  __rest
} from "./chunk-FA3WS4TG.js";
import {
  require_react
} from "./chunk-NNXGX6WR.js";
import {
  __toESM
} from "./chunk-WOOG5QLI.js";

// ../node_modules/@cloudscape-design/components/container/internal.js
var import_react3 = __toESM(require_react());

// ../node_modules/@cloudscape-design/components/internal/context/container-header.js
var import_react = __toESM(require_react());
var ContainerHeaderContext = (0, import_react.createContext)({ isInContainer: false });
var ContainerHeaderContextProvider = ({ children }) => {
  return import_react.default.createElement(ContainerHeaderContext.Provider, { value: { isInContainer: true } }, children);
};
var useContainerHeader = () => {
  const { isInContainer } = (0, import_react.useContext)(ContainerHeaderContext);
  return isInContainer;
};

// ../node_modules/@cloudscape-design/components/container/use-sticky-header.js
var import_react2 = __toESM(require_react());

// ../node_modules/@cloudscape-design/components/internal/styles/global-vars.js
var globalVars = {
  stickyVerticalTopOffset: "--awsui-sticky-vertical-top-offset",
  stickyVerticalBottomOffset: "--awsui-sticky-vertical-bottom-offset"
};
var global_vars_default = globalVars;

// ../node_modules/@cloudscape-design/components/container/use-sticky-header.js
function computeOffset({ isMobile, __stickyOffset, __mobileStickyOffset, hasInnerOverflowParents, __additionalOffset }) {
  const localOffset = isMobile ? (__stickyOffset !== null && __stickyOffset !== void 0 ? __stickyOffset : 0) - (__mobileStickyOffset !== null && __mobileStickyOffset !== void 0 ? __mobileStickyOffset : 0) : __stickyOffset !== null && __stickyOffset !== void 0 ? __stickyOffset : 0;
  if (hasInnerOverflowParents || __stickyOffset !== void 0) {
    return `${localOffset}px`;
  }
  const globalOffset = `var(${global_vars_default.stickyVerticalTopOffset}, 0px)`;
  return `calc(${globalOffset} + ${localOffset}px + ${__additionalOffset ? spaceScaledS : "0px"})`;
}
var StickyHeaderContext = (0, import_react2.createContext)({
  isStuck: false,
  isStuckAtBottom: false
});
var useStickyHeader = (rootRef, headerRef, __stickyHeader, __stickyOffset, __mobileStickyOffset, __disableMobile, __additionalOffset = false) => {
  const isMobile = useMobile();
  const disableSticky = isMobile && __disableMobile;
  const isSticky = !disableSticky && !!__stickyHeader;
  const [hasInnerOverflowParents, setHasInnerOverflowParents] = (0, import_react2.useState)(false);
  const [isStuck, setIsStuck] = (0, import_react2.useState)(false);
  const [isStuckAtBottom, setIsStuckAtBottom] = (0, import_react2.useState)(false);
  (0, import_react2.useLayoutEffect)(() => {
    if (rootRef.current) {
      const overflowParents = getOverflowParents(rootRef.current);
      const mainElement = findUpUntil(rootRef.current, (elem) => elem.tagName === "MAIN");
      setHasInnerOverflowParents(overflowParents.length > 0 && overflowParents[0] !== mainElement);
    }
  }, [rootRef]);
  const computedOffset = computeOffset({
    isMobile,
    __stickyOffset,
    __mobileStickyOffset,
    hasInnerOverflowParents,
    __additionalOffset
  });
  const stickyStyles = isSticky ? {
    style: {
      top: computedOffset
    }
  } : {};
  const checkIfStuck = (0, import_react2.useCallback)(({ isTrusted, target, type }) => {
    if (type === "resize" && target === window && !isTrusted) {
      return;
    }
    if (rootRef.current && headerRef.current) {
      const rootTopBorderWidth = parseFloat(getComputedStyle(rootRef.current).borderTopWidth) || 0;
      const rootTop = Math.round(rootRef.current.getBoundingClientRect().top + rootTopBorderWidth);
      const headerTop = Math.round(headerRef.current.getBoundingClientRect().top);
      if (rootTop < headerTop) {
        setIsStuck(true);
      } else {
        setIsStuck(false);
      }
      const rootBottom = Math.round(rootRef.current.getBoundingClientRect().bottom - rootTopBorderWidth);
      const headerBottom = Math.round(headerRef.current.getBoundingClientRect().bottom);
      if (rootBottom <= headerBottom) {
        setIsStuckAtBottom(true);
      } else {
        setIsStuckAtBottom(false);
      }
    }
  }, [rootRef, headerRef]);
  (0, import_react2.useEffect)(() => {
    if (isSticky) {
      const controller = new AbortController();
      window.addEventListener("scroll", checkIfStuck, { capture: true, signal: controller.signal });
      window.addEventListener("resize", checkIfStuck, { signal: controller.signal });
      return () => {
        controller.abort();
      };
    }
  }, [isSticky, checkIfStuck]);
  return {
    isSticky,
    isStuck,
    isStuckAtBottom,
    stickyStyles
  };
};

// ../node_modules/@cloudscape-design/components/container/analytics-metadata/styles.css.js
import "/Users/cmgabri/Desktop/osdu-decoupled/frontend-uxpin/node_modules/@cloudscape-design/components/container/analytics-metadata/styles.scoped.css";
var styles_css_default = {
  "header": "awsui_header_164jl_1ns0c_5"
};

// ../node_modules/@cloudscape-design/components/container/styles.css.js
import "/Users/cmgabri/Desktop/osdu-decoupled/frontend-uxpin/node_modules/@cloudscape-design/components/container/styles.scoped.css";
var styles_css_default2 = {
  "root": "awsui_root_14iqq_emv61_189",
  "fit-height": "awsui_fit-height_14iqq_emv61_222",
  "with-side-media": "awsui_with-side-media_14iqq_emv61_227",
  "variant-default": "awsui_variant-default_14iqq_emv61_230",
  "variant-stacked": "awsui_variant-stacked_14iqq_emv61_230",
  "refresh": "awsui_refresh_14iqq_emv61_238",
  "sticky-enabled": "awsui_sticky-enabled_14iqq_emv61_288",
  "with-stuck-sticky-header-at-bottom": "awsui_with-stuck-sticky-header-at-bottom_14iqq_emv61_294",
  "with-top-media": "awsui_with-top-media_14iqq_emv61_304",
  "content-wrapper": "awsui_content-wrapper_14iqq_emv61_309",
  "content-wrapper-fit-height": "awsui_content-wrapper-fit-height_14iqq_emv61_314",
  "media": "awsui_media_14iqq_emv61_321",
  "media-top": "awsui_media-top_14iqq_emv61_339",
  "media-side": "awsui_media-side_14iqq_emv61_344",
  "header": "awsui_header_14iqq_emv61_350",
  "header-full-page": "awsui_header-full-page_14iqq_emv61_355",
  "header-variant-embedded": "awsui_header-variant-embedded_14iqq_emv61_358",
  "header-sticky-enabled": "awsui_header-sticky-enabled_14iqq_emv61_358",
  "header-with-media": "awsui_header-with-media_14iqq_emv61_361",
  "header-sticky-disabled": "awsui_header-sticky-disabled_14iqq_emv61_367",
  "header-stuck": "awsui_header-stuck_14iqq_emv61_377",
  "header-variant-cards": "awsui_header-variant-cards_14iqq_emv61_387",
  "header-dynamic-height": "awsui_header-dynamic-height_14iqq_emv61_390",
  "with-paddings": "awsui_with-paddings_14iqq_emv61_396",
  "with-hidden-content": "awsui_with-hidden-content_14iqq_emv61_405",
  "header-variant-full-page": "awsui_header-variant-full-page_14iqq_emv61_463",
  "header-cover": "awsui_header-cover_14iqq_emv61_466",
  "content": "awsui_content_14iqq_emv61_309",
  "content-fit-height": "awsui_content-fit-height_14iqq_emv61_494",
  "content-inner": "awsui_content-inner_14iqq_emv61_500",
  "with-header": "awsui_with-header_14iqq_emv61_507",
  "footer": "awsui_footer_14iqq_emv61_511",
  "with-divider": "awsui_with-divider_14iqq_emv61_515"
};

// ../node_modules/@cloudscape-design/components/container/test-classes/styles.css.js
import "/Users/cmgabri/Desktop/osdu-decoupled/frontend-uxpin/node_modules/@cloudscape-design/components/container/test-classes/styles.scoped.css";
var styles_css_default3 = {
  "content-inner": "awsui_content-inner_1mwlm_oyjaq_5"
};

// ../node_modules/@cloudscape-design/components/container/internal.js
function InternalContainerAsSubstep(props) {
  const { subStepRef, funnelSubStepProps } = useFunnelSubStep();
  const modalContext = useModalContext();
  return import_react3.default.createElement(InternalContainer, Object.assign({}, props, { __subStepRef: (modalContext === null || modalContext === void 0 ? void 0 : modalContext.isInModal) ? { current: null } : subStepRef, __funnelSubStepProps: (modalContext === null || modalContext === void 0 ? void 0 : modalContext.isInModal) ? {} : funnelSubStepProps }));
}
function InternalContainer(_a) {
  var _b;
  var { header, footer, children, variant = "default", disableHeaderPaddings = false, disableContentPaddings = false, fitHeight, media, __stickyOffset, __mobileStickyOffset, __stickyHeader = false, __internalRootRef = null, __disableFooterDivider = false, __disableFooterPaddings = false, __hiddenContent = false, __headerRef, __fullPage = false, __disableStickyMobile = true, __funnelSubStepProps, __subStepRef } = _a, restProps = __rest(_a, ["header", "footer", "children", "variant", "disableHeaderPaddings", "disableContentPaddings", "fitHeight", "media", "__stickyOffset", "__mobileStickyOffset", "__stickyHeader", "__internalRootRef", "__disableFooterDivider", "__disableFooterPaddings", "__hiddenContent", "__headerRef", "__fullPage", "__disableStickyMobile", "__funnelSubStepProps", "__subStepRef"]);
  const isMobile = useMobile();
  const isRefresh = useVisualRefresh();
  const baseProps = getBaseProps(restProps);
  const rootRef = (0, import_react3.useRef)(null);
  const headerRef = (0, import_react3.useRef)(null);
  const { isSticky, isStuck, isStuckAtBottom, stickyStyles } = useStickyHeader(rootRef, headerRef, __stickyHeader, __stickyOffset, __mobileStickyOffset, __disableStickyMobile, __fullPage && isRefresh && !isMobile);
  const contentId = useUniqueId();
  const hasDynamicHeight = isRefresh && variant === "full-page";
  const mergedRef = useMergeRefs(rootRef, __internalRootRef);
  const headerMergedRef = useMergeRefs(headerRef, __headerRef);
  const shouldHaveStickyStyles = isSticky && !isMobile;
  const hasMedia = !!(media === null || media === void 0 ? void 0 : media.content);
  const mediaPosition = (_b = media === null || media === void 0 ? void 0 : media.position) !== null && _b !== void 0 ? _b : "top";
  return import_react3.default.createElement(
    "div",
    Object.assign({}, baseProps, __funnelSubStepProps, { className: clsx_m_default(baseProps.className, styles_css_default2.root, styles_css_default2[`variant-${variant}`], fitHeight && styles_css_default2["fit-height"], hasMedia && (mediaPosition === "side" ? styles_css_default2["with-side-media"] : styles_css_default2["with-top-media"]), shouldHaveStickyStyles && [styles_css_default2["sticky-enabled"]], shouldHaveStickyStyles && isStuck && isStuckAtBottom && [styles_css_default2["with-stuck-sticky-header-at-bottom"]], isRefresh && styles_css_default2.refresh), ref: mergedRef }, getAnalyticsLabelAttribute(`.${styles_css_default.header} h1, .${styles_css_default.header} h2, .${styles_css_default.header} h3`)),
    hasMedia && import_react3.default.createElement("div", { className: clsx_m_default(styles_css_default2[`media-${mediaPosition === "side" ? "side" : "top"}`], styles_css_default2.media), style: mediaPosition === "top" ? { height: (media === null || media === void 0 ? void 0 : media.height) || "" } : { width: (media === null || media === void 0 ? void 0 : media.width) || "" } }, media.content),
    import_react3.default.createElement(
      "div",
      { id: contentId, ref: __subStepRef, className: clsx_m_default(styles_css_default2["content-wrapper"], fitHeight && styles_css_default2["content-wrapper-fit-height"]) },
      header && import_react3.default.createElement(
        ContainerHeaderContextProvider,
        null,
        import_react3.default.createElement(
          StickyHeaderContext.Provider,
          { value: { isStuck, isStuckAtBottom } },
          import_react3.default.createElement(
            "div",
            Object.assign({ className: clsx_m_default(isRefresh && styles_css_default2.refresh, styles_css_default2.header, styles_css_default.header, styles_css_default2[`header-variant-${variant}`], {
              [styles_css_default2["header-sticky-disabled"]]: __stickyHeader && !isSticky,
              [styles_css_default2["header-sticky-enabled"]]: isSticky,
              [styles_css_default2["header-dynamic-height"]]: hasDynamicHeight,
              [styles_css_default2["header-stuck"]]: isStuck,
              [styles_css_default2["with-paddings"]]: !disableHeaderPaddings,
              [styles_css_default2["with-hidden-content"]]: !children || __hiddenContent,
              [styles_css_default2["header-with-media"]]: hasMedia,
              [styles_css_default2["header-full-page"]]: __fullPage && isRefresh
            }) }, stickyStyles, { ref: headerMergedRef }),
            isStuck && !isMobile && isRefresh && __fullPage && import_react3.default.createElement("div", { className: styles_css_default2["header-cover"] }),
            header
          )
        )
      ),
      import_react3.default.createElement(
        "div",
        { className: clsx_m_default(styles_css_default2.content, fitHeight && styles_css_default2["content-fit-height"]) },
        import_react3.default.createElement("div", { className: clsx_m_default(styles_css_default2["content-inner"], styles_css_default3["content-inner"], {
          [styles_css_default2["with-paddings"]]: !disableContentPaddings,
          [styles_css_default2["with-header"]]: !!header
        }) }, children)
      ),
      footer && import_react3.default.createElement("div", { className: clsx_m_default(styles_css_default2.footer, {
        [styles_css_default2["with-divider"]]: !__disableFooterDivider,
        [styles_css_default2["with-paddings"]]: !__disableFooterPaddings
      }) }, footer)
    )
  );
}

export {
  useContainerHeader,
  global_vars_default,
  StickyHeaderContext,
  InternalContainerAsSubstep,
  InternalContainer
};
//# sourceMappingURL=chunk-UO43OFVZ.js.map
